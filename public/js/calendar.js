webpackJsonp([2],{124:function(t,e,a){var s=a(0)(a(2756),a(2757),!1,function(t){a(2754)},null,null);t.exports=s.exports},125:function(t,e,a){var s=a(0)(a(2812),a(2826),!1,function(t){a(2810)},null,null);t.exports=s.exports},239:function(t,e,a){var s=a(0)(a(2743),a(2744),!1,function(t){a(2741)},null,null);t.exports=s.exports},240:function(t,e,a){var s=a(0)(a(2753),a(2758),!1,function(t){a(2751)},null,null);t.exports=s.exports},241:function(t,e,a){var s=a(0)(a(2768),a(2772),!1,function(t){a(2766)},null,null);t.exports=s.exports},242:function(t,e,a){var s=a(0)(a(2773),a(2774),!1,null,null,null);t.exports=s.exports},243:function(t,e,a){var s=a(0)(a(2775),a(2801),!1,null,null,null);t.exports=s.exports},244:function(t,e,a){var s=a(0)(a(2820),a(2821),!1,function(t){a(2818)},null,null);t.exports=s.exports},245:function(t,e,a){var s=a(0)(a(2824),a(2825),!1,function(t){a(2822)},null,null);t.exports=s.exports},2732:function(t,e,a){t.exports=a(2733)},2733:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(11),n=a(2734),i=a.n(n),o=a(60),r=a(72),l=a.n(r),c=a(241),d=a.n(c),u=a(242),p=a.n(u),m=a(243),f=a.n(m),v=a(24);Vue.use(i.a),v.injectComponentIntoView("associated-task-list",a(2735),"ticket-timeline-mounted-tasks","timeline-display-box-tasks"),v.injectComponentIntoView("task-ticket-actions",a(2747),"timeline-action-div-mounted","timeline-action-div"),o.a.addRoutes([{path:"/tasks",component:l.a,name:"Tasks",redirect:"/tasks/task",children:[{path:"task",component:d.a,name:"Tasks Index",meta:{title:"tasks",crumb:{link:{name:"dashboard",to:"/"},active:"tasks"}}},{path:"task/create",component:p.a,name:"Task Create",props:{editPage:!1},meta:{title:"tasks",crumb:{link:{name:"dashboard",to:"/"},root_link:{name:"tasks",to:"/tasks/task"},active:"create"}}},{path:"task/:id/edit",component:p.a,name:"Task Edit",props:{editPage:!0},meta:{title:"tasks",crumb:{link:{name:"dashboard",to:"/"},root_link:{name:"tasks",to:"/tasks/task"},active:"edit"}}},{path:"task/:id",component:f.a,name:"Task View",meta:{title:"tasks",crumb:{link:{name:"dashboard",to:"/"},root_link:{name:"tasks",to:"/tasks/task"},active:"view"}}}]}]);new Vue({el:"#calendar-view",store:s.a,components:{"task-create":a(124),"task-individual-view":a(243),"task-view":a(241),"task-create-wrapper":a(242),"task-settings":a(2802),"project-edit":a(2834),"tasklist-edit":a(2837),"task-template-settings":a(2840),"task-template-create-edit":a(2845)}})},2734:function(t,e,a){var s;s=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(){return(e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t}).apply(this,arguments)}var a=4,s=.001,n=1e-7,i=10,o=11,r=1/(o-1),l="function"==typeof Float32Array;function c(t,e){return 1-3*e+3*t}function d(t,e){return 3*e-6*t}function u(t){return 3*t}function p(t,e,a){return((c(e,a)*t+d(e,a))*t+u(e))*t}function m(t,e,a){return 3*c(e,a)*t*t+2*d(e,a)*t+u(e)}function f(t){return t}var v=function(t,e,c,d){if(!(0<=t&&t<=1&&0<=c&&c<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&c===d)return f;for(var u=l?new Float32Array(o):new Array(o),v=0;v<o;++v)u[v]=p(v*r,t,c);function _(e){for(var l=0,d=1,f=o-1;d!==f&&u[d]<=e;++d)l+=r;var v=l+(e-u[--d])/(u[d+1]-u[d])*r,_=m(v,t,c);return _>=s?function(t,e,s,n){for(var i=0;i<a;++i){var o=m(e,s,n);if(0===o)return e;e-=(p(e,s,n)-t)/o}return e}(e,v,t,c):0===_?v:function(t,e,a,s,o){var r,l,c=0;do{(r=p(l=e+(a-e)/2,s,o)-t)>0?a=l:e=l}while(Math.abs(r)>n&&++c<i);return l}(e,l,l+r,t,c)}return function(t){return 0===t?0:1===t?1:p(_(t),e,d)}},_={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},h=!1;try{var k=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("test",null,k)}catch(t){}var g={$:function(t){return"string"!=typeof t?t:document.querySelector(t)},on:function(t,e,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!1};e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++)t.addEventListener(e[n],a,!!h&&s)},off:function(t,e,a){e instanceof Array||(e=[e]);for(var s=0;s<e.length;s++)t.removeEventListener(e[s],a)},cumulativeOffset:function(t){var e=0,a=0;do{e+=t.offsetTop||0,a+=t.offsetLeft||0,t=t.offsetParent}while(t);return{top:e,left:a}}},b=["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],y={container:"body",duration:500,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0};function C(t){y=e({},y,t)}var w=function(){var e,a,s,n,i,o,r,l,c,d,u,p,m,f,h,k,C,w,x,T,j,O,S,M,P=function(t){r&&(T=t,x=!0)};function D(t){if(x)return E();O||(O=t),S=t-O,M=Math.min(S/s,1),M=j(M),N(a,h+w*M,m+C*M),S<s?window.requestAnimationFrame(D):E()}function E(){x||N(a,k,f),O=!1,g.off(a,b,P),x&&d&&d(T,e),!x&&c&&c(e)}function N(t,e,a){p&&(t.scrollTop=e),u&&(t.scrollLeft=a),"body"===t.tagName.toLowerCase()&&(p&&(document.documentElement.scrollTop=e),u&&(document.documentElement.scrollLeft=a))}return function(O,S){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"===t(S)?M=S:"number"==typeof S&&(M.duration=S),!(e=g.$(O)))return console.warn("[vue-scrollto warn]: Trying to scroll to an element that is not on the page: "+O);a=g.$(M.container||y.container),s=M.duration||y.duration,n=M.easing||y.easing,i=M.offset||y.offset,o=M.hasOwnProperty("force")?!1!==M.force:y.force,r=M.hasOwnProperty("cancelable")?!1!==M.cancelable:y.cancelable,l=M.onStart||y.onStart,c=M.onDone||y.onDone,d=M.onCancel||y.onCancel,u=void 0===M.x?y.x:M.x,p=void 0===M.y?y.y:M.y;var E=g.cumulativeOffset(a),N=g.cumulativeOffset(e);if("function"==typeof i&&(i=i(e,a)),h=function(t){var e=t.scrollTop;return"body"===t.tagName.toLowerCase()&&(e=e||document.documentElement.scrollTop),e}(a),k=N.top-E.top+i,m=function(t){var e=t.scrollLeft;return"body"===t.tagName.toLowerCase()&&(e=e||document.documentElement.scrollLeft),e}(a),f=N.left-E.left+i,x=!1,w=k-h,C=f-m,!o){var F="body"===a.tagName.toLowerCase()?document.documentElement.clientHeight||window.innerHeight:a.offsetHeight,I=h,$=I+F,A=k-i,q=A+e.offsetHeight;if(A>=I&&q<=$)return void(c&&c(e))}if(l&&l(e),w||C)return"string"==typeof n&&(n=_[n]||_.ease),j=v.apply(v,n),g.on(a,b,P,{passive:!0}),window.requestAnimationFrame(D),function(){T=null,x=!0};c&&c(e)}}(),x=[];function T(t){var e=function(t){for(var e=0;e<x.length;++e)if(x[e].el===t)return x[e]}(t);return e||(x.push(e={el:t,binding:{}}),e)}function j(t){t.preventDefault();var e=T(this).binding;if("string"==typeof e.value)return w(e.value);w(e.value.el||e.value.element,e.value)}var O={bind:function(t,e){T(t).binding=e,g.on(t,"click",j)},unbind:function(t){!function(t){for(var e=0;e<x.length;++e)if(x[e].el===t)return x.splice(e,1),!0}(t),g.off(t,"click",j)},update:function(t,e){T(t).binding=e},scrollTo:w,bindings:x},S=function(t,e){e&&C(e),t.directive("scroll-to",O),t.prototype.$scrollTo=O.scrollTo};return"undefined"!=typeof window&&window.Vue&&(window.VueScrollTo=O,window.VueScrollTo.setDefaults=C,window.Vue.use(S)),O.install=S,O},t.exports=s()},2735:function(t,e,a){var s=a(0)(a(2736),a(2746),!1,null,null,null);t.exports=s.exports},2736:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(2737),n=a.n(s);e.default={props:{data:{type:String|Object}},components:{TicketsTaskView:n.a},computed:{ticketNumber:function(){return JSON.parse(this.data)}}}},2737:function(t,e,a){var s=a(0)(a(2740),a(2745),!1,function(t){a(2738)},null,null);t.exports=s.exports},2738:function(t,e,a){var s=a(2739);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("f9c15586",s,!0,{})},2739:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".task-action,.task-assigned,.task-date,.task-description,.task-name,.task-status{max-width:250px;word-break:break-all}#associated_tasks .VueTables .table-responsive{overflow-x:auto}#associated_tasks .VueTables .table-responsive>table{width:-webkit-max-content;width:-moz-max-content;width:max-content;min-width:100%;max-width:-webkit-max-content;max-width:-moz-max-content;max-width:max-content;overflow:auto!important}#associates_tab{cursor:pointer}.fs-25{font-size:25px}.w_80{width:80%}",""])},2740:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(15),n=a.n(s),i=a(7),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t};n.a.component("table-actions",a(21)),n.a.component("task-status",a(239)),e.default={props:["ticketProp"],data:function(){return{columns:["task_name","task_template","status","task_start_date","task_end_date","assigned","action"],options:{},apiUrl:"",hideData:"",ticketId:"",cardOpen:!1}},computed:o({},Object(i.b)(["formattedTime","formattedDate","getStoredTicketId"])),watch:{getStoredTicketId:function(t,e){this.apiUrl="/tasks/api/get-all-ticket-tasks?ticket_id="+t}},created:function(){window.eventHub.$on("refreshData",this.updateSideBar),window.eventHub.$on("showHideDiv",this.showCard)},beforeMount:function(){this.ticketProp&&(this.apiUrl="/tasks/api/get-all-ticket-tasks?ticket_id="+this.getStoredTicketId);var t=this;this.options={headings:{task_name:"Name",task_template:"Task Template",status:"Status",task_start_date:"Start Date",action:"Actions",task_end_date:"Due Date",assigned:"Assignee(s)"},columnsClasses:{task_name:"task-name",task_start_date:"task-date",task_end_date:"task-date",status:"task-status",action:"task-action",task_template:"task-template"},sortIcon:{base:"glyphicon",up:"glyphicon-chevron-up",down:"glyphicon-chevron-down"},texts:{filter:"",limit:""},templates:{task_start_date:function(e,a){return t.formattedTime(a.task_start_date)},task_template:function(t,e){return e.task_template?e.task_template.name:"--"},task_end_date:function(e,a){return t.formattedTime(a.task_end_date)},status:"task-status",assigned:"table-list-elements",action:"table-actions"},sortable:["task_name","task_start_date","task_end_date"],filterable:["task_name"],pagination:{chunk:5,nav:"fixed",edge:!0},requestAdapter:function(t){return{sort_field:t.orderBy?t.orderBy:"id",sort_order:t.ascending?"desc":"asc",search_term:t.query,page:t.page,limit:t.limit}},responseAdapter:function(e){var a=e.data;return{data:a.data.tasks.map(function(e){return e.from="agent",e.view_url="/tasks/task/"+e.id,e.edit_url="/tasks/task/"+e.id+"/edit",e.delete_url=t.basePath()+"/tasks/task/"+e.id,e.alertComponentName="timeline",e.tableName="task",e.listElementObj={key:"assigned_agents",redirectUrl:"/user/"},e}),count:a.data.total}}}},methods:{toggleCard:function(){this.cardOpen=!this.cardOpen},showCard:function(){this.cardOpen=!0},refreshTable:function(){window.eventHub.$emit("refreshData")},updateSideBar:function(){window.eventHub.$emit("update-sidebar")}},components:{"data-table":a(14),alert:a(5)}}},2741:function(t,e,a){var s=a(2742);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("cea20224",s,!0,{})},2742:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,"",""])},2743:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"task-status",props:{data:{type:Object,required:!0}},computed:{labelClass:function(){switch(this.data.status){case"Open":return"label-success";case"Closed":return"label-danger";case"In-progress":return"label-warning";default:return"label-default"}},overdue:function(){return(new Date).toISOString()>this.data.task_end_date}}}},2744:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("span",{staticClass:"label",class:t.labelClass},[t._v(t._s(t.data.status))]),t._v(" "),t.overdue?a("span",{staticClass:"label label-danger"},[t._v(t._s(t.lang("task-plugin-overdue")))]):t._e()])},staticRenderFns:[]}},2745:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("alert",{attrs:{componentName:"taskView"}}),t._v(" "),a("div",{staticClass:"card card-light"},[a("div",{staticClass:"card-header pointer"},[a("h3",{staticClass:"card-title w_80",on:{click:t.toggleCard}},[t._v(t._s(t.lang("associated_tasks")))]),t._v(" "),a("div",{staticClass:"card-tools"},[t.cardOpen?a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("refresh"),expression:"lang('refresh')"}],staticClass:"btn btn-tool",attrs:{id:"associates_tab"},on:{click:t.refreshTable}},[a("i",{staticClass:"fas fa-sync-alt"})]):t._e(),t._v(" "),a("button",{staticClass:"btn btn-tool",attrs:{type:"button"},on:{click:t.toggleCard}},[a("i",{staticClass:"fs-25",class:{"fas fa-angle-up":t.cardOpen,"fas fa-angle-down":!t.cardOpen}})])])]),t._v(" "),t.cardOpen&&t.apiUrl?a("div",{staticClass:"card-body",attrs:{id:"associated_tasks"}},[a("data-table",{attrs:{url:t.apiUrl,dataColumns:t.columns,option:t.options,scroll_to:"problem-list"}})],1):t._e()])],1)},staticRenderFns:[]}},2746:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"associated-task-list"}},[e("TicketsTaskView",{attrs:{ticketProp:this.ticketNumber}})],1)},staticRenderFns:[]}},2747:function(t,e,a){var s=a(0)(a(2750),a(2765),!1,function(t){a(2748)},null,null);t.exports=s.exports},2748:function(t,e,a){var s=a(2749);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("ba22d640",s,!0,{})},2749:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,"#task-ticket-actions .btn-xs{font-size:.75rem!important}",""])},2750:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(7),n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t};e.default={name:"task-ticket-actions",description:"Contains ticket actions on timline page, specific to Task Plugin",props:{data:{type:String|Object,required:!0}},data:function(){return{showModal:!1,showTemplateChooserModal:!1}},computed:n({ticketId:function(){return JSON.parse(this.data).ticket_id},taskCount:function(){return JSON.parse(this.data).task_count}},Object(s.b)({ticketActions:"getTicketActions"})),methods:{updateTaskUi:function(){window.eventHub.$emit("showHidedData"),window.eventHub.$emit("showCalendarData")},onClose:function(){this.showModal=!1,this.$store.dispatch("unsetValidationError")},onTemplateChooserClose:function(){this.showTemplateChooserModal=!1,this.$store.dispatch("unsetValidationError")},reloadData:function(){window.eventHub.$emit("actionDone","external")}},components:{"task-create-modal":a(240),"task-template-modal":a(2759)}}},2751:function(t,e,a){var s=a(2752);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("bf669352",s,!0,{})},2752:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".task_fields{max-height:300px;overflow-y:auto;overflow-x:hidden}",""])},2753:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(6);var s=a(3);a.n(s);e.default={name:"task-add-modal",description:"Task add Modal component",props:{showModal:{type:Boolean,default:!1},onClose:{type:Function},ticketId:{type:String|Number,default:""},reloadDetails:{type:Function}},data:function(){return{isDisabled:!1,containerStyle:{width:"800px"},loading:!1}},methods:{onSubmit:function(){this.$refs.taskCreate.taskSubmit()},onCompleted:function(){this.onClose(),this.reloadDetails()}},components:{modal:a(10),loader:a(8),task:a(124)}}},2754:function(t,e,a){var s=a(2755);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("0ca2c4fd",s,!0,{})},2755:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".mt-5{margin-top:20px}input.radioMargin{margin-top:1px!important;vertical-align:middle}textarea#task_description{resize:vertical!important}",""])},2756:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(3),n=a.n(s),i=a(6),o=a(4),r={data:function(){return{task_name:null,required:!0,task_description:null,associated_ticket:void 0,assignee:[],task_start_date:null,task_end_date:null,due_alert:null,alert_repeat:null,task_category_id:null,is_private:0,taskId:null,task:"",mode:null,loading:!1,timeOptions:{start:"00:00",step:"00:30",end:"23:30"},numberStyle:{width:"20%"},elementsTaskAlert:[{name:"On day of event",value:"event_day"},{name:"5 minutes before",value:"5_minutes_before"},{name:"15 minutes before",value:"15_minutes_before"},{name:"30 minutes before",value:"30_minutes_before"},{name:"1 hour before",value:"1_hour_before"},{name:"2 hours before",value:"2_hours_before"},{name:"1 day before",value:"1_day_before"},{name:"No Reminder",value:"no_reminder"}],elementsAlertRepeat:[{name:"Never",value:"never"},{name:"Daily",value:"daily"},{name:"Weekly",value:"weekly"},{name:"Monthly",value:"monthly"}],elementTaskStatus:[{name:"Open",value:"Open"},{name:"Closed",value:"Closed"},{name:"In-progress",value:"In-progress"}],status:{name:"Open",value:"Open"}}}},l=a(7),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t};e.default={props:{ticketId:{type:String|Number,default:""},popup:{type:Boolean,default:!1},alertName:{type:String,default:"taskCreate"},onComplete:{type:Function}},mixins:[r],computed:c({requiredForPrivate:function(){return!parseInt(this.is_private)},disableRadioInput:function(){return Boolean(this.ticketId)},buttonText:function(){return"edit"===this.mode?"update":"save"},buttonClass:function(){return"edit"===this.mode?"fas fa-sync":"fas fa-save"}},Object(l.b)(["formattedTime","formattedDate"])),beforeMount:function(){this.isThisEditForm()&&this.getTaskDetails(),this.ticketId&&this.getSelectedTicket(this.ticketId)},components:{"text-field":a(12),alert:a(5),loader:a(9),"dynamic-select":a(13),"date-time-field":a(28)},methods:{getSelectedTicket:function(t){var e=this;t&&n.a.get("api/dependency/tickets?ids[0]="+t).then(function(t){var a=t.data.data.tickets[0];e.associated_ticket={id:a.id,name:a.name}}).catch(function(t){e.associated_ticket=void 0})},getTicketElements:function(){var t=this;n.a.get("api/dependency/tickets").then(function(e){t.ticketElements=flatten(e.data.data)}),setTimeout(function(){t.associated_ticket=t.ticketId},500)},getTaskDetails:function(){var t=this;n.a.get("/tasks/api/get-task-by-id/"+this.taskId).then(function(e){var a=e.data.data;t.task_name=a.task_name,t.task_description=a.task_description,t.task_start_date=a.task_start_date,t.task_end_date=a.task_end_date,t.due_alert=t.filterValues(t.elementsTaskAlert,JSON.parse(a.due_alert_text)),t.task_category_id=a.task_category,t.assignee=a.assigned_agents,t.getSelectedTicket(a.ticket_id),t.is_private=a.is_private,t.status={name:a.status,value:a.status}})},filterValues:function(t,e){return t.filter(function(t){if(t.value===e)return t})[0]},getAssignees:function(t){var e=this,a="api/dependency/agents?";for(var s in t)a+="ids["+s+"]="+t[s].user_id+"&";n.a.get(a).then(function(t){var a=t.data.data.agents;e.assignee=[];var s=!0,n=!1,i=void 0;try{for(var o,r=a[Symbol.iterator]();!(s=(o=r.next()).done);s=!0){var l=o.value,c={};c.name=l.name,c.id=l.id,e.assignee.push(c)}}catch(t){n=!0,i=t}finally{try{!s&&r.return&&r.return()}finally{if(n)throw i}}})},isThisEditForm:function(){var t=window.location.pathname.split("/");return"edit"===t[t.length-1]&&(this.taskId=t[t.length-2],this.mode="edit",!0)},onChange:function(t,e){this[e]=t},subString:function(t){return Object(o.q)(t,25)},taskSubmit:function(){var t=this,e=void 0,a=void 0;parseInt(this.is_private)&&(this.assignee=[],this.associated_ticket=void 0);var s={task_start_date:this.task_start_date,task_end_date:this.task_end_date,due_alert:this.due_alert?this.due_alert.value:null,associated_ticket:this.associated_ticket?this.associated_ticket.id:null,assignee:this.assignee?this.assignee.map(function(t){return t.id}):[],task_name:this.task_name,task_description:this.task_description,is_private:this.is_private,task_category_id:this.task_category_id?this.task_category_id.id:null,status:this.status?this.status.value:null};this.loading=!0,"edit"===this.mode?(e="/tasks/task/"+this.taskId,a="PUT"):(e="/tasks/task",a="POST"),n.a.request({method:a,url:e,data:s}).then(function(e){t.loading=!1,Object(i.b)(e,t.alertName),t.popup?(t.onComplete(),window.eventHub.$emit("refreshData")):"edit"===t.mode?(t.$store.dispatch("unsetValidationError"),t.getTaskDetails(),window.eventHub.$emit("update-sidebar")):setTimeout(function(){t.$router.push({name:"Tasks Index"})},3e3)}).catch(function(e){t.loading=!1,Object(i.a)(e,t.alertName)})}}}},2757:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading?a("loader",{attrs:{"animation-duration":"4000",color:"#1d78ff",size:"60"}}):t._e(),t._v(" "),t.popup?a("alert",{attrs:{componentName:"taskCreate"}}):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.lang("task_name"),onChange:t.onChange,value:t.task_name,type:"text",name:"task_name",classname:"col-sm-6",required:t.required,id:"task_name"}}),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("label",[t._v(t._s(t.lang("task_type")))]),a("br"),t._v(" "),a("label",{staticClass:"radio-inline control-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.is_private,expression:"is_private"}],staticClass:"radioMargin",attrs:{type:"radio",value:"1",disabled:t.disableRadioInput},domProps:{checked:t._q(t.is_private,"1")},on:{change:function(e){t.is_private="1"}}}),t._v(" "),a("span",{staticClass:"font-weight-normal"},[t._v(" "+t._s(t.lang("private")))])]),t._v("  \n            "),a("label",{staticClass:"radio-inline control-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.is_private,expression:"is_private"}],staticClass:"radioMargin",attrs:{type:"radio",value:"0"},domProps:{checked:t._q(t.is_private,"0")},on:{change:function(e){t.is_private="0"}}}),t._v(" "),a("span",{staticClass:"font-weight-normal"},[t._v(" "+t._s(t.lang("public")))])])])],1),t._v(" "),a("div",{staticClass:"row"},[a("date-time-field",{attrs:{label:t.lang("start_at"),value:t.task_start_date,type:"datetime",name:"task_start_date",onChange:t.onChange,required:t.required,format:"MMMM Do YYYY, h:mm a",classname:"col-sm-6",clearable:!0,disabled:!1,editable:!0,pickers:!0,range:!1,currentYearDate:!1,"time-picker-options":t.timeOptions,isDateSelector:!1,numberStyle:t.numberStyle,confirm:!0}}),t._v(" "),a("date-time-field",{attrs:{label:t.lang("ends_at"),value:t.task_end_date,type:"datetime",name:"task_end_date",onChange:t.onChange,required:t.required,format:"MMMM Do YYYY, h:mm a",classname:"col-sm-6",clearable:!0,disabled:!1,editable:!0,pickers:!0,range:!1,currentYearDate:!1,"time-picker-options":t.timeOptions,isDateSelector:!1,numberStyle:t.numberStyle,confirm:!0}})],1),t._v(" "),a("div",{staticClass:"row"},[a("dynamic-select",{attrs:{name:"status",classname:"col-sm-6",elements:t.elementTaskStatus,multiple:!1,label:t.lang("task_status"),clearble:!1,value:t.status,onChange:t.onChange,searchable:!1,required:t.required}}),t._v(" "),a("dynamic-select",{attrs:{name:"task_category_id",classname:"col-sm-6",apiEndpoint:"tasks/api/category/view",multiple:!1,label:t.lang("task_list"),value:t.task_category_id,onChange:t.onChange,searchable:!0}})],1),t._v(" "),a("div",{staticClass:"row"},[t.requiredForPrivate?a("dynamic-select",{attrs:{name:"assignee",classname:"col-sm-6",multiple:!0,apiEndpoint:"api/dependency/agents?meta=true",label:t.lang("assignee"),value:t.assignee,onChange:t.onChange,searchable:!0,required:t.required}}):t._e(),t._v(" "),t.requiredForPrivate?a("dynamic-select",{attrs:{name:"associated_ticket",classname:"col-sm-6",multiple:!1,apiEndpoint:"api/dependency/tickets",label:t.lang("link_ticket"),value:t.associated_ticket,onChange:t.onChange,searchable:!0,required:t.required}}):t._e()],1),t._v(" "),a("div",{staticClass:"row"},[a("text-field",{attrs:{rows:"5",cols:"1",label:t.lang("task_description"),onChange:t.onChange,value:t.task_description,type:"textarea",name:"task_description",classname:"col-sm-12 resizeTextArea",required:!1,id:"task_description"}})],1),t._v(" "),a("div",{staticClass:"row mt-5"},[a("div",{staticClass:"col-sm-2"},[!0!==t.popup?a("button",{staticClass:"btn btn-primary",on:{click:t.taskSubmit}},[a("i",{class:t.buttonClass}),t._v(" "+t._s(t.lang(t.buttonText)))]):t._e()])])],1)},staticRenderFns:[]}},2758:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showModal?a("modal",{attrs:{showModal:t.showModal,onClose:t.onClose,containerStyle:t.containerStyle,modalBodyClass:"task_fields"}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.lang("task_create")))])]),t._v(" "),a("div",{attrs:{slot:"fields",id:"task-modal-container"},slot:"fields"},[a("task",{ref:"taskCreate",attrs:{popup:!0,ticketId:t.ticketId,onComplete:t.onCompleted,alertName:"timeline"}})],1),t._v(" "),t.loading?a("div",{staticClass:"row",attrs:{slot:"fields"},slot:"fields"},[a("loader",{attrs:{"animation-duration":4e3,size:60}})],1):t._e(),t._v(" "),a("div",{attrs:{slot:"controls"},slot:"controls"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.isDisabled},on:{click:t.onSubmit}},[a("i",{staticClass:"fas fa-save"}),t._v(" "+t._s(t.lang("save"))+"\n\t\t\t ")])])]):t._e()},staticRenderFns:[]}},2759:function(t,e,a){var s=a(0)(a(2760),a(2764),!1,null,null,null);t.exports=s.exports},2760:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(2761),n=a.n(s);e.default={name:"TicketTaskTemplateModal",props:{showModal:{type:Boolean,default:!1},onClose:{type:Function},ticketId:{type:String|Number,default:""},reloadDetails:{type:Function}},data:function(){return{isDisabled:!1,containerStyle:{width:"500px"},loading:!1}},methods:{onSubmit:function(){this.$refs.taskTemplateChooser.apply()},onCompleted:function(){this.onClose(),this.reloadDetails()}},components:{modal:a(10),loader:a(8),"task-template-chooser":n.a}}},2761:function(t,e,a){var s=a(0)(a(2762),a(2763),!1,null,null,null);t.exports=s.exports},2762:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(3),n=a.n(s),i=a(6);e.default={name:"TaskTemplateChooser",components:{alert:a(5),loader:a(9),"dynamic-select":a(13)},props:{ticketId:{type:String|Number,default:""},onComplete:{type:Function}},data:function(){return{template:null,loading:!1}},methods:{onChange:function(t,e){this[e]=t},apply:function(){var t=this;this.loading=!0,n.a.post("tasks/api/template/apply",{template:this.template?this.template.id:null,ticketId:this.ticketId}).then(function(e){Object(i.b)(e,"timeline"),t.onComplete(),window.eventHub.$emit("refreshData")}).catch(function(e){Object(i.a)(e,"timeline"),412!==e.response.status&&t.onComplete()}).finally(function(){t.loading=!1})}}}},2763:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container-fluid"},[this.loading?e("loader",{attrs:{"animation-duration":"4000",color:"#1d78ff",size:"60"}}):this._e(),this._v(" "),e("div",{staticClass:"row"},[e("dynamic-select",{attrs:{name:"template",classname:"col-sm-12",apiEndpoint:"tasks/api/template/dropdown",multiple:!1,label:this.lang("task-plugin-task-template"),clearble:!0,value:this.template,onChange:this.onChange,searchable:!0,required:!0}})],1)],1)},staticRenderFns:[]}},2764:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showModal?a("modal",{attrs:{showModal:t.showModal,onClose:t.onClose,containerStyle:t.containerStyle}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.lang("task-plugin-template-modal-title")))])]),t._v(" "),a("div",{attrs:{slot:"fields",id:"task-modal-container"},slot:"fields"},[a("task-template-chooser",{ref:"taskTemplateChooser",attrs:{ticketId:t.ticketId,onComplete:t.onCompleted}})],1),t._v(" "),t.loading?a("div",{staticClass:"row",attrs:{slot:"fields"},slot:"fields"},[a("loader",{attrs:{"animation-duration":4e3,size:60}})],1):t._e(),t._v(" "),a("div",{attrs:{slot:"controls"},slot:"controls"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.isDisabled},on:{click:t.onSubmit}},[a("i",{staticClass:"fas fa-check"}),t._v(" "+t._s(t.lang("task-plugin-template-selection-apply"))+"\n    ")])])]):t._e()},staticRenderFns:[]}},2765:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"task-ticket-actions"}},[t.ticketActions.has_calender?a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-xs btn-default dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown",id:"task-action"}},[a("i",{staticClass:"far fa-calendar-plus"}),t._v(" "+t._s(t.lang("task"))+" \n\n      "),a("span",{staticClass:"badge badge-danger"},[t._v(t._s(t.taskCount))])]),t._v(" "),a("div",{staticClass:"dropdown-menu"},[a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){t.showModal=!0}}},[a("i",{staticClass:"fas fa-plus"}),t._v(" "+t._s(t.lang("create_task"))+"\n      ")]),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){t.showTemplateChooserModal=!0}}},[a("i",{staticClass:"fa fa-bars"}),t._v(" "+t._s(t.lang("task-plugin-template-ticket-action-button"))+"\n        ")]),t._v(" "),a("a",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#timeline-display-box-tasks",expression:"'#timeline-display-box-tasks'"}],staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:t.updateTaskUi}},[a("i",{staticClass:"fas fa-eye"}),t._v(" "+t._s(t.lang("view"))+"\n      ")])])]):t._e(),t._v(" "),a("transition",{attrs:{name:"modal"}},[t.showModal?a("task-create-modal",{attrs:{onClose:t.onClose,showModal:t.showModal,ticketId:t.ticketId,componentTitle:"timeline",reloadDetails:t.reloadData}}):t._e()],1),t._v(" "),a("transition",{attrs:{name:"modal"}},[t.showTemplateChooserModal?a("task-template-modal",{attrs:{onClose:t.onTemplateChooserClose,showModal:t.showTemplateChooserModal,ticketId:t.ticketId,componentTitle:"timeline",reloadDetails:t.reloadData}}):t._e()],1)],1)},staticRenderFns:[]}},2766:function(t,e,a){var s=a(2767);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("dc0e3e5a",s,!0,{})},2767:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".task-view-task-action,.task-view-task-assigned,.task-view-task-date,.task-view-task-name,.task-view-task-status,.task-view-task-ticket{max-width:250px;word-break:break-all}#my_tasks .VueTables .table-responsive{overflow-x:auto}#my_tasks .VueTables .table-responsive>table{width:-webkit-max-content;width:-moz-max-content;width:max-content;min-width:100%;max-width:-webkit-max-content;max-width:-moz-max-content;max-width:max-content;overflow:auto!important}",""])},2768:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(3),n=(a.n(s),a(15)),i=a.n(n),o=a(7),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t};i.a.component("table-actions",a(21)),i.a.component("task-status",a(239)),e.default={data:function(){return{appliedFilters:{},columns:["task_name","ticket","status","task_start_date","task_end_date","assigned","task_template","action"],options:{},apiUrl:"",filterOptions:[],isShowFilter:!1,hideData:"",ticketId:""}},computed:r({category:function(){return location.search.substring(1).split("=")[location.search.substring(1).split("=").length-1]}},Object(o.b)(["formattedTime","formattedDate"])),created:function(){window.eventHub.$on("refreshData",this.updateSideBar)},beforeMount:function(){this.filterOptions=[{section:[{name:"task_ids",url:"/tasks/api/list?category="+this.category,label:"task"},{name:"ticket_ids",url:"api/dependency/tickets",label:"ticket"},{name:"task_categories",url:"tasks/api/category/view",label:"task-plugin-category"}]},{section:[{name:"assigned_to",url:"api/dependency/agents?meta=true",label:"assignees"},{name:"projects",url:"/tasks/api/project/view",label:"project"},{name:"status",elements:[{name:"Open",id:"Open"},{name:"Closed",id:"Closed"},{name:"In-progress",id:"In-progress"}],label:"task_status"}]},{section:[{name:"created_by_array",url:"api/dependency/agents?meta=true",label:"created_by"},{name:"task_template",url:"tasks/api/template/dropdown",label:"task-plugin-task-template"}]}],this.filterData(),this.apiUrl="/tasks/api/get-all-tasks?category="+this.category;var t=this;this.options={headings:{task_name:"Name",task_description:"Description",status:"Status",task_start_date:"Start Date",action:"Actions",task_end_date:"Due Date",ticket:"Ticket",assigned:"Assignee(s)",task_template:"Task Template"},columnsClasses:{task_name:"task-view-task-name",task_start_date:"task-view-task-date",task_end_date:"task-view-task-date",status:"task-view-task-status",action:"task-view-task-action",ticket_id:"task-view-task-ticket",assigned:"task-view-task-assigned",task_template:"task-view-task-template"},sortIcon:{base:"glyphicon",up:"glyphicon-chevron-up",down:"glyphicon-chevron-down"},texts:{filter:"",limit:""},templates:{task_start_date:function(e,a){return a.task_start_date?t.formattedTime(a.task_start_date):"--"},task_end_date:function(e,a){return a.task_end_date?t.formattedTime(a.task_end_date):"--"},task_template:function(t,e){return e.task_template?e.task_template.name:"--"},ticket:function(t,e){var a=e.ticket;return a?t("router-link",{attrs:{to:"/thread/"+a.id}},a.ticket_number):"--"},status:"task-status",assigned:"table-list-elements",action:"table-actions"},sortable:["task_name","task_start_date","task_end_date"],filterable:["task_name"],pagination:{chunk:5,nav:"fixed",edge:!0},requestAdapter:function(t){return{sort_field:t.orderBy?t.orderBy:"id",sort_order:t.ascending?"desc":"asc",search_term:t.query.trim(),page:t.page,limit:t.limit}},responseAdapter:function(e){var a=e.data;return{data:a.data.tasks.map(function(e){return e.from="agent",e.view_url="/tasks/task/"+e.id,e.edit_url="/tasks/task/"+e.id+"/edit",e.delete_url=t.basePath()+"/tasks/task/"+e.id,e.listElementObj={key:"assigned_agents",redirectUrl:"/user/"},e.alertComponentName="task-view",e}),count:a.data.total}}}},methods:{updateSideBar:function(){window.eventHub.$emit("update-sidebar")},filterData:function(){this.filterOptions.map(function(t){t.section.map(function(t){t.elements=t.elements?t.elements:[],t.isMultiple=!0,t.isPrepopulate=!1,t.value="",t.className="col-sm-4"})})},selectedFilters:function(t){return"closeEvent"===t?this.isShowFilter=!1:"resetEvent"===t?this.resetFilter():this.applyFilter(t)},resetFilter:function(){this.apiUrl="/tasks/api/get-all-tasks?category="+this.category,this.filterOptions=this.filterOptions.map(function(t){return t.section.map(function(t){t.elements=t.elements?t.elements:[],t.isMultiple=!0,t.isPrepopulate=!1,t.value="",t.className="col-sm-4"}),t})},applyFilter:function(t){this.appliedFilters=t;var e="/tasks/api/get-all-tasks?category="+this.category+"&",a="";for(var s in this.filterOptions)for(var n in this.filterOptions[s].section)t[this.filterOptions[s].section[n].name]&&(this.filterOptions[s].section[n].value=t[this.filterOptions[s].section[n].name],t[this.filterOptions[s].section[n].name].forEach(function(t,e){a+=this.filterOptions[s].section[n].name+"["+e+"]="+t.id+"&"},this));"&"===a[a.length-1]&&(a=a.slice(0,-1)),this.apiUrl=e+a,this.isShowFilter=!1},toggleFilterView:function(){this.isShowFilter=!this.isShowFilter},taskCalendarPage:function(){this.redirect("/tasks/?category="+this.category)}},components:{"data-table":a(14),alert:a(5),"task-filter":a(2769)}}},2769:function(t,e,a){var s=a(0)(a(2770),a(2771),!1,null,null,null);t.exports=s.exports},2770:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{metaData:{type:Array,required:!0},appliedFilters:{type:Object,default:function(){}}},data:function(){return{selectedFilters:this.appliedFilters,close_on_select:!this.multiple,isShowFilter:!1,componentMetaData:this.metaData,sections:[1,2,3],loading:!1}},methods:{onChange:function(t,e){this.selectedFilters[e]=t},onCancel:function(){this.$emit("selectedFilters","closeEvent")},onApply:function(){this.$emit("selectedFilters",this.selectedFilters)},onReset:function(){var t=this;this.selectedFilters={},this.loading=!0,setTimeout(function(){t.loading=!1},1e3),this.$emit("selectedFilters","resetEvent")}},components:{"dynamic-select":a(13),loader:a(8)}}},2771:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card card-light"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.lang("filter")))])]),t._v(" "),a("div",{staticClass:"card-body"},[t.loading?a("div",{staticClass:"row"},[a("loader",{attrs:{"animation-duration":4e3,color:"#1d78ff",size:60}})],1):t._l(t.metaData,function(e){return a("div",{key:e.section.name,staticClass:"row"},t._l(e.section,function(e){return a("dynamic-select",{key:e.name,attrs:{id:e.name,name:e.name,apiEndpoint:e.url,classname:e.className,elements:e.elements,multiple:e.isMultiple,prePopulate:e.isPrepopulate,label:t.lang(e.label),value:e.value,onChange:t.onChange,strlength:"35"}})}))})],2),t._v(" "),a("div",{staticClass:"card-footer"},[a("span",{staticClass:"single-btn"},[a("button",{staticClass:"btn btn-primary round-btn",attrs:{id:"apply-btn",type:"button"},on:{click:t.onApply}},[a("span",{staticClass:"fas fa-check"}),t._v("  "+t._s(t.lang("apply"))+"\n\t\t\t")])]),t._v(" "),a("span",{staticClass:"single-btn"},[a("button",{staticClass:"btn btn-primary single-btn round-btn",attrs:{id:"apply-btn",type:"button"},on:{click:t.onReset}},[a("span",{staticClass:"fas fa-undo"}),t._v("  "+t._s(t.lang("reset"))+"\n\t\t\t")])]),t._v(" "),a("span",{staticClass:"single-btn"},[a("button",{staticClass:"btn btn-danger single-btn round-btn",attrs:{id:"apply-btn",type:"button"},on:{click:t.onCancel}},[a("span",{staticClass:"fas fa-times"}),t._v("  "+t._s(t.lang("cancel"))+"\n\t\t\t")])])])])},staticRenderFns:[]}},2772:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-12"},[a("alert",{attrs:{componentName:"task-view"}}),t._v(" "),a("div",{staticClass:"card card-light "},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.lang("list_of_tasks")))]),t._v(" "),a("div",{staticClass:"card-tools"},[a("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("add_tasks"),expression:"lang('add_tasks')"}],staticClass:"btn-tool",attrs:{to:"/tasks/task/create/"}},[a("i",{staticClass:"fas fa-plus"})]),t._v(" "),a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("filter"),expression:"lang('filter')"}],staticClass:"btn-tool",attrs:{href:"javascript:;"},on:{click:t.toggleFilterView}},[a("i",{staticClass:"fas fa-filter"})])],1)]),t._v(" "),a("div",{staticClass:"card-body",attrs:{id:"my_tasks"}},[t.isShowFilter?a("task-filter",{attrs:{id:"filter-box",metaData:t.filterOptions,appliedFilters:t.appliedFilters},on:{selectedFilters:t.selectedFilters}}):t._e(),t._v(" "),a("data-table",{attrs:{url:t.apiUrl,dataColumns:t.columns,option:t.options,scroll_to:"problem-list"}})],1)])],1)},staticRenderFns:[]}},2773:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(124),n=a.n(s),i=a(5),o=a.n(i),r=a(17),l=a.n(r),c=a(4);e.default={props:{editPage:{type:Boolean,default:!1},taskId:{type:String,default:""}},data:function(){return{id:this.taskId}},beforeMount:function(){this.editPage&&(this.id=Object(c.o)(window.location.pathname))},components:{TaskCreate:n.a,Alert:o.a,FaveoBox:l.a}}},2774:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-12"},[a("Alert",{attrs:{componentName:"taskCreate"}}),t._v(" "),a("FaveoBox",{attrs:{title:t.editPage?t.lang("task_edit"):t.lang("task_create")}},[a("template",{slot:"customActions"},[t.editPage?a("div",{staticClass:"card-tools"},[a("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("view"),expression:"lang('view')"}],staticClass:"btn-tool",attrs:{to:"/tasks/task/"+t.id}},[a("i",{staticClass:"fas fa-eye"})])],1):t._e()]),t._v(" "),a("TaskCreate")],2)],1)},staticRenderFns:[]}},2775:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(4),n=a(3),i=a.n(n),o=a(2776),r=a.n(o);e.default={data:function(){return{task:"",taskId:"",loading:!0,assigneeIds:[],assigneeNames:[],counter:0}},beforeMount:function(){this.getValues()},methods:{updateTaskData:function(){this.getValues(!0)},getValues:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=window.location.pathname;this.taskId=Object(s.o)(a),i.a.get("/tasks/api/get-task-by-id/"+this.taskId).then(function(a){t.loading=!1,t.task=a.data.data,e&&(t.counter+=1)}).catch(function(e){t.loading=!1})}},components:{"task-details":a(2786),loader:a(8),alert:a(5),"task-associates":r.a}}},2776:function(t,e,a){var s=a(0)(a(2779),a(2785),!1,function(t){a(2777)},"data-v-9210c0e8",null);t.exports=s.exports},2777:function(t,e,a){var s=a(2778);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("0f04c4c8",s,!0,{})},2778:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,"#asset_tab[data-v-9210c0e8]{cursor:pointer}",""])},2779:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"TaskAssociates",description:"Task associates page",props:{taskId:{type:String|Number,default:""}},data:function(){return{tabs:[{id:"activity",title:"task-plugin-activity-log",show:!0}],category:"activity",loading:!1}},methods:{associates:function(t){var e=this;this.loading=!0,setTimeout(function(){e.loading=!1},1),this.category=t}},components:{alert:a(5),loader:a(8),"task-activity":a(2780)}}},2780:function(t,e,a){var s=a(0)(a(2783),a(2784),!1,function(t){a(2781)},"data-v-55f5806f",null);t.exports=s.exports},2781:function(t,e,a){var s=a(2782);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("5db1b79e",s,!0,{})},2782:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,"#loader_log[data-v-55f5806f]{margin-top:30px;margin-bottom:30px}#select_limit[data-v-55f5806f]{display:inline-block;float:left}#choose_order[data-v-55f5806f]{display:inline-block;margin-left:10px}#page_div[data-v-55f5806f]{margin-top:-20px}#sort_btn[data-v-55f5806f]{background-color:#fff}#log_desc strong p[data-v-55f5806f]{display:inherit!important}#problem_img[data-v-55f5806f]{margin-top:-3px}.break[data-v-55f5806f]{word-break:break-all}",""])},2783:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(7),n=a(15),i=a.n(n),o=a(3),r=a.n(o),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t};i.a.use(a(54)),e.default={name:"problem-activity",description:"Problem activity page",props:{taskId:{type:String|Number,default:""}},data:function(){return{loading:!0,apiUrl:"/tasks/api/activity/"+this.taskId,activity_log:"",perPage:"10",total:0,maxSize:5,pagination:{currentPage:1},paramsObj:{},filtering:!1,sort_key:"desc"}},created:function(){window.eventHub.$on("updateAssetLogs",this.getUpdateActivity)},beforeMount:function(){this.paramsObj.page=this.pagination.currentPage,this.getValues(this.paramsObj)},watch:{"pagination.currentPage":function(t,e){return this.filtering=!0,document.getElementById("activity_log_div").scrollIntoView({behavior:"smooth"}),this.paramsObj.page=t,this.getValues(this.paramsObj),t}},computed:l({PerPage:function(){return this.perPage?parseInt(this.perPage):10},Records:function(){return this.total?parseInt(this.total):0}},Object(s.b)(["formattedTime","formattedDate"])),methods:{getUpdateActivity:function(){var t=this;this.activity_log=[],this.filtering=!0,this.pagination.currentPage=1,this.sort_key="desc",this.perPage=10,this.total=0,this.paramsObj.page=1,this.paramsObj.limit=10,this.paramsObj.sort_order="desc",setTimeout(function(){t.getValues(t.paramsObj)},1e3)},commonFilter:function(){this.filtering=!0,this.pagination.currentPage=1,this.paramsObj.page=1,this.getValues(this.paramsObj)},logLimit:function(t){this.paramsObj.limit=t,this.commonFilter()},orderBy:function(t){this.sort_key=t,this.paramsObj.sort_order=t,this.commonFilter()},getValues:function(t){var e=this;r.a.get(this.apiUrl,{params:t}).then(function(t){e.loading=!1,e.filtering=!1,e.activity_log=t.data.data.data,e.activity_log.forEach(function(t,e){t.message="<div>"+t.message+"</div>"}),e.total=t.data.data.total,e.perPage=t.data.data.per_page}).catch(function(t){e.loading=!1,e.filtering=!1})},checkDate:function(t){return 0==t||(this.formattedDate(this.activity_log[t-1].created_at)!=this.formattedDate(this.activity_log[t].created_at)||void 0)},showThreadEnd:function(t){return t===this.activity_log.length-1}},components:{loader:a(8),"custom-loader":a(9),"faveo-image-element":a(22),"activity-parser":a(47)}}},2784:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row",attrs:{id:"activity_log_div"}},[a("div",{staticClass:"col-sm-12 mb-2"},[!t.loading&&t.activity_log.length>0?a("div",{attrs:{id:"select_limit"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.perPage,expression:"perPage"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.perPage=e.target.multiple?a:a[0]},function(e){t.logLimit(t.perPage)}]}},[a("option",{attrs:{value:"10"}},[t._v("10")]),t._v(" "),a("option",{attrs:{value:"25"}},[t._v("25")]),t._v(" "),a("option",{attrs:{value:"50"}},[t._v("50")]),t._v(" "),a("option",{attrs:{value:"100"}},[t._v("100")])])]):t._e(),t._v(" "),!t.loading&&t.activity_log.length>0?a("div",{attrs:{id:"choose_order"}},[a("button",{staticClass:"btn btn-default dropdown-toggle",attrs:{id:"sort_btn",type:"button","data-toggle":"dropdown"}},[t._v(t._s(t.lang("created_time"))+" - "+t._s(t.lang(t.sort_key))+"\n      ")]),t._v(" "),a("div",{staticClass:"dropdown-menu",staticStyle:{"z-index":"9999"}},[a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){t.orderBy("asc")}}},[a("i",{staticClass:"fas fa-sort-amount-up"}),t._v(" "+t._s(t.lang("asc"))+"\n        ")]),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){t.orderBy("desc")}}},[a("i",{staticClass:"fas fa-sort-amount-down"}),t._v(" "+t._s(t.lang("desc"))+"\n        ")])])]):t._e(),t._v(" "),a("div",{staticClass:"float-right"},[!t.loading&&t.total>10?a("div",{attrs:{id:"page_div"}},[a("uib-pagination",{staticClass:"pagination",attrs:{id:"page2","total-items":t.Records,"max-size":t.maxSize,"boundary-links":!1,"items-per-page":t.PerPage},model:{value:t.pagination,callback:function(e){t.pagination=e},expression:"pagination"}})],1):t._e()])]),t._v(" "),t.filtering?a("div",{staticClass:"col-md-12"},[a("custom-loader",{attrs:{duration:4e3}})],1):t._e(),t._v(" "),t.loading?a("div",{staticClass:"col-md-12",attrs:{id:"loader_log"}},[a("loader",{attrs:{"animation-duration":4e3,size:60}})],1):t._e(),t._v(" "),a("div",{staticClass:"col-md-12"},[!t.loading&&t.activity_log.length>0?a("div",{staticClass:"timeline"},[t._l(t.activity_log,function(e,s){return[t.checkDate(s)?a("div",{staticClass:"time-label"},[a("span",{staticClass:"bg-green"},[t._v(t._s(t.formattedDate(e.created_at)))])]):t._e(),t._v(" "),a("div",[a("i",{staticClass:"far fa-dot-circle"}),t._v(" "),a("div",{staticClass:"timeline-item"},[a("span",{staticClass:"time"},[a("i",{staticClass:"far fa-clock"}),t._v("  "+t._s(t.formattedTime(e.created_at)))]),t._v(" "),a("h3",{staticClass:"timeline-header"},[a("faveo-image-element",{attrs:{id:"problem_img","source-url":e.creator.profile_pic,classes:["img-circle","img-bordered-sm"],"alternative-text":"User Image","img-width":25,"img-height":25}}),t._v(" "),a("router-link",{attrs:{to:"/user/"+e.creator.id}},[t._v(t._s(e.creator.full_name))])],1),t._v(" "),a("div",{staticClass:"timeline-body break"},[a("activity-parser",{attrs:{data:e.message}})],1)])]),t._v(" "),t.showThreadEnd(s)?a("div",[a("i",{staticClass:"far fa-clock bg-gray"})]):t._e()]})],2):t._e(),t._v(" "),!t.loading&&t.total>10?a("div",{staticClass:"float-right",attrs:{id:"page_div"}},[a("uib-pagination",{staticClass:"pagination",attrs:{id:"page2","total-items":t.Records,"max-size":t.maxSize,"boundary-links":!1,"items-per-page":t.PerPage},model:{value:t.pagination,callback:function(e){t.pagination=e},expression:"pagination"}})],1):t._e()]),t._v(" "),t.filtering||t.loading||0!==t.activity_log.length?t._e():a("div",{staticClass:"col-sm-12"},[a("h6",{staticClass:"text-center"},[t._v(t._s(t.lang("no_data_found")))])])])},staticRenderFns:[]}},2785:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tabs?a("div",{staticClass:"card card-light card-tabs",attrs:{id:"task-associates"}},[a("alert",{attrs:{componentName:"taskAssociates"}}),t._v(" "),t.loading?t._e():a("div",{staticClass:"card-header p-0 pt-1"},[a("ul",{staticClass:"nav nav-tabs"},[t._l(t.tabs,function(e){return[e.show?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:t.category===e.id},attrs:{id:"asset_tab","data-toggle":"tab"},on:{click:function(a){t.associates(e.id)}}},[t._v("\n            "+t._s(t.trans(e.title))+"\n          ")])]):t._e()]})],2)]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"tab-content"},[a("div",{staticClass:"active tab-pane",attrs:{id:"activity"}},[a("div",["activity"===t.category?a("task-activity",{attrs:{taskId:t.taskId}}):t._e()],1)])])]),t._v(" "),t.loading?a("div",{staticClass:"row"},[a("loader",{attrs:{"animation-duration":4e3,size:60}})],1):t._e()],1):t._e()},staticRenderFns:[]}},2786:function(t,e,a){var s=a(0)(a(2789),a(2800),!1,function(t){a(2787)},"data-v-080746e6",null);t.exports=s.exports},2787:function(t,e,a){var s=a(2788);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("6f8743bc",s,!0,{})},2788:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".info-row[data-v-080746e6]{border-top:1px solid #f4f4f4;padding:10px}",""])},2789:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(4),n=a(3),i=(a.n(n),a(7)),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t};e.default={props:{task:{type:Object,default:function(){}},updateTask:{type:Function,default:function(){}}},filters:{capitalize:function(t){return t?(t=t.toString()).charAt(0).toUpperCase()+t.slice(1):""}},data:function(){return{showDescription:!1}},computed:o({labelClass:function(){switch(this.task.status){case"Open":return"label-success";case"Closed":return"label-danger";case"In-progress":return"label-warning";default:return"label-default"}},overdue:function(){return(new Date).toISOString()>this.task.task_end_date}},Object(i.b)(["formattedTime","formattedDate"])),methods:{subString:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return Object(s.q)(t,e)},gotoTicket:function(){this.task.ticket&&this.$router.push({path:"/thread/"+this.task.ticket_id})},onClose:function(){this.showDescription=!1}},components:{"task-actions":a(2790),alert:a(5),"task-description":a(2795)}}},2790:function(t,e,a){var s=a(0)(a(2793),a(2794),!1,function(t){a(2791)},"data-v-3a3da6e1",null);t.exports=s.exports},2791:function(t,e,a){var s=a(2792);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("6b685bc4",s,!0,{})},2792:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".wrapper[data-v-3a3da6e1]{cursor:not-allowed!important}a.disabledLink[data-v-3a3da6e1]{pointer-events:none!important}",""])},2793:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(4),n=a(6),i=a(3),o=a.n(i);e.default={props:{task:{type:Object,default:function(){}},notEdit:{type:Boolean,default:!1},updateTask:{type:Function,default:function(){}}},data:function(){return{showDeleteModal:!1,showTaskStatus:!1,actions:"",loading:!1}},methods:{subString:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return Object(s.q)(t,e)},onClose:function(){this.showDeleteModal=!1,this.showTaskStatus=!1},changeTaskStatus:function(t){var e=this;this.loading=!0,o.a.get("/tasks/api/change-task/"+this.task.id+"/"+t).then(function(t){e.loading=!1,Object(n.b)(t,"taskDetails"),e.updateTask()}).catch(function(t){e.loading=!1,Object(n.a)(t,"taskDetails")})}},components:{"delete-modal":a(43),loader:a(9)}}},2794:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-tools"},[t.loading?a("loader",{attrs:{"animation-duration":4e3,color:"#1d78ff",size:60}}):t._e(),t._v(" "),a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-tool dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[a("i",{staticClass:"fas fa-cog"}),t._v(" "+t._s(t.lang("actions"))+" \n      ")]),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{id:"more_actions"}},[t.notEdit?t._e():a("router-link",{staticClass:"dropdown-item",attrs:{to:"/tasks/task/"+t.task.id+"/edit"}},[a("i",{staticClass:"fas fa-edit",staticStyle:{color:"#0d6aad"}}),t._v(" "+t._s(t.lang("edit"))+"\n          ")]),t._v(" "),a("a",{staticClass:"dropdown-item",attrs:{href:"javascript:;"},on:{click:function(e){t.showDeleteModal=!0}}},[a("i",{staticClass:"fas fa-trash",staticStyle:{color:"red"}}),t._v(" "+t._s(t.lang("delete"))+"\n        ")])],1)]),t._v(" "),a("div",{staticClass:"btn-group"},[a("button",{staticClass:"btn btn-tool dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[a("i",{staticClass:"fas fa-exchange-alt"}),t._v(" "+t._s(t.lang("status"))+" \n      ")]),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{id:"more_actions"}},[a("a",{staticClass:"dropdown-item",class:"Open"==t.task.status?"disabledLink":"",attrs:{href:"javascript:;"},on:{click:function(e){e.preventDefault(),t.changeTaskStatus("open")}}},[a("i",{staticClass:"far fa-clock",staticStyle:{color:"limegreen"}}),t._v(" "+t._s(t.lang("open"))+"\n          ")]),t._v(" "),a("a",{staticClass:"dropdown-item",class:"Closed"==t.task.status?"disabledLink":"",attrs:{href:"javascript:;"},on:{click:function(e){e.preventDefault(),t.changeTaskStatus("close")}}},[a("i",{staticClass:"fas fa-minus-circle",staticStyle:{color:"orangered"}}),t._v(" "+t._s(t.lang("closed"))+"\n          ")]),t._v(" "),a("a",{staticClass:"dropdown-item",class:"In-progress"==t.task.status?"disabledLink":"",attrs:{href:"javascript:;"},on:{click:function(e){e.preventDefault(),t.changeTaskStatus("inprogress")}}},[a("i",{staticClass:"fas fa-exclamation-triangle",staticStyle:{color:"orange"}}),t._v(t._s(t.lang("inprogress"))+"\n          ")])])]),t._v(" "),a("transition",{attrs:{name:"modal"}},[t.showDeleteModal?a("delete-modal",{attrs:{onClose:t.onClose,showModal:t.showDeleteModal,alertComponentName:"tasks-view",deleteUrl:"/tasks/task/"+t.task.id,redirectUrl:"/tasks/task",from:"agent"}}):t._e()],1)],1)},staticRenderFns:[]}},2795:function(t,e,a){var s=a(0)(a(2798),a(2799),!1,function(t){a(2796)},"data-v-b3d0f1ba",null);t.exports=s.exports},2796:function(t,e,a){var s=a(2797);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("35bcaea4",s,!0,{})},2797:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,"#log_desc[data-v-b3d0f1ba]{overflow:auto;word-break:break-all;min-height:150px;max-height:300px}",""])},2798:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"task-description",description:"Task description Modal component",props:{showModal:{type:Boolean,default:!1},onClose:{type:Function,default:function(){}},description:{type:String,default:""}},components:{modal:a(10)}}},2799:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showModal?a("modal",{attrs:{showModal:t.showModal,onClose:t.onClose}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.lang("description")))])]),t._v(" "),a("div",{attrs:{slot:"fields"},slot:"fields"},[a("div",{attrs:{id:"log_desc"}},[a("span",{domProps:{innerHTML:t._s(t.description)}})])])]):t._e()],1)},staticRenderFns:[]}},2800:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("alert",{attrs:{componentName:"taskDetails"}}),t._v(" "),a("div",{staticClass:"card card-light "},[a("div",{staticClass:"card-header"},[a("h3",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.task.subject,expression:"task.subject"}],staticClass:"card-title",staticStyle:{"vertical-align":"middle"}},[t._v(" \n      "+t._s(t.subString(t.task.task_name,50))+" \n      "),a("span",{staticClass:"label",class:t.labelClass},[t._v(t._s(t.task.status))]),t._v(" "),t.overdue?a("span",{staticClass:"badge badge-danger"},[t._v(t._s(t.lang("task-plugin-overdue")))]):t._e()]),t._v(" "),a("task-actions",{attrs:{task:t.task,updateTask:t.updateTask}})],1),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"callout callout-info bg-info"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("b",[t._v(t._s(t.lang("created_date"))+" : ")]),t._v(" "),a("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.formattedTime(t.task.created_at),expression:"formattedTime(task.created_at)"}]},[t._v(" "+t._s(t.formattedTime(t.task.created_at))+" ")])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("b",[t._v(t._s(t.lang("start_date"))+" : ")]),t._v(" "),a("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.task.task_start_date,expression:"task.task_start_date"}]},[t._v(" "+t._s(t.formattedTime(t.task.task_start_date))+" ")])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("b",[t._v(t._s(t.lang("end_date"))+" : ")]),t._v(" "),a("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.task.task_end_date,expression:"task.task_end_date"}]},[t._v(" "+t._s(t.formattedTime(t.task.task_end_date)))])])])])])]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 info-row d-flex"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v(t._s(t.lang("task_name")))])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("task-details-name"),expression:"lang('task-details-name')"}]},[t._v(t._s(t._f("capitalize")(t.task.task_name)))])])]),t._v(" "),a("div",{staticClass:"col-md-6 info-row d-flex"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v(t._s(t.lang("created_by")))])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("task-details-created-by"),expression:"lang('task-details-created-by')"}]},[t._v(t._s(t.task.created_by.full_name))])])]),t._v(" "),a("div",{staticClass:"col-md-6 info-row d-flex"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v(t._s(t.lang("ticket_assoc")))])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("task-details-ticket"),expression:"lang('task-details-ticket')"}],attrs:{href:"javascript:;"},on:{click:function(e){e.preventDefault(),t.gotoTicket()}}},[t._v("\n              "+t._s(t.task.ticket?t.subString(t.task.ticket.ticket_number,30):"---")+"\n            ")])])]),t._v(" "),a("div",{staticClass:"col-md-6 info-row d-flex"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v(t._s(t.lang("task_status")))])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("task-details-status"),expression:"lang('task-details-status')"}]},[t._v(t._s(t._f("capitalize")(t.task.status)))])])]),t._v(" "),a("div",{staticClass:"col-md-6 info-row d-flex"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v(t._s(t.lang("assignees")))])]),t._v(" "),a("div",{staticClass:"col-md-6"},[0===t.task.assigned_agents.length?a("a",{staticClass:"text-center"},[t._v("---")]):t._l(t.task.assigned_agents,function(e,s){return a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("task-details-agents"),expression:"lang('task-details-agents')"}]},[t._v("\n                "+t._s(t.subString(e.name))),s!==Object.keys(t.task.assigned_agents).length-1?a("span",[t._v(", ")]):t._e()])})],2)]),t._v(" "),a("div",{staticClass:"col-md-6 info-row d-flex"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v(t._s(t.lang("task_description")))])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("a",{staticClass:"btn btn-info btn-xs",attrs:{href:"javascript:;"},on:{click:function(e){t.showDescription=!0}}},[a("i",{staticClass:"fas fa-file-code"},[t._v(" ")]),t._v(t._s(t.lang("show_description"))+"\n            ")])])]),t._v(" "),a("div",{staticClass:"col-md-6 info-row d-flex"},[a("div",{staticClass:"col-md-6"},[a("label",[t._v(t._s(t.lang("task_list")))])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("task-details-ticket"),expression:"lang('task-details-ticket')"}]},[t._v("\n              "+t._s(t.task.task_category?t.subString(t.task.task_category.name,30):"---")+"\n            ")])])]),t._v(" "),a("div",{staticClass:"col-md-6 info-row d-flex"})])])])]),t._v(" "),a("transition",{attrs:{name:"modal"}},[t.showDescription?a("task-description",{attrs:{onClose:t.onClose,showModal:t.showDescription,description:t.task.task_description}}):t._e()],1)],1)},staticRenderFns:[]}},2801:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{key:t.counter,staticClass:"col-sm-12"},[a("alert",{attrs:{componentName:"tasks-view"}}),t._v(" "),t.loading?t._e():[a("task-details",{key:t.taskId,attrs:{task:t.task,updateTask:t.updateTaskData}}),t._v(" "),a("task-associates",{attrs:{taskId:t.taskId}})],t._v(" "),t.loading?[a("div",{staticClass:"row"},[a("loader",{attrs:{"animation-duration":4e3,size:60}})],1)]:t._e()],2)},staticRenderFns:[]}},2802:function(t,e,a){var s=a(0)(a(2805),a(2833),!1,function(t){a(2803)},null,null);t.exports=s.exports},2803:function(t,e,a){var s=a(2804);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("2b06cfd9",s,!0,{})},2804:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,"#settings_tab{cursor:pointer;margin-bottom:-1px}",""])},2805:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"task-settings",description:"Task Settings page",data:function(){return{tabs:[{id:"project",title:"project"},{id:"tasklist",title:"task-plugin-category"}],category:"project",loading:!1}},computed:{currentComponent:function(){return"project"===this.category?"task-project":"task-list"}},methods:{associates:function(t){this.category=t}},components:{"task-project":a(2806),"task-list":a(2828),alert:a(5)}}},2806:function(t,e,a){var s=a(0)(a(2809),a(2827),!1,function(t){a(2807)},null,null);t.exports=s.exports},2807:function(t,e,a){var s=a(2808);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("4546552a",s,!0,{})},2808:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".box-custom{border-top:0 solid!important}.project-name{width:35%!important;word-break:break-all}.project-created-at{width:40%!important;word-break:break-all}.project-action{width:15%!important;word-break:break-all}",""])},2809:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(7),n=a(15),i=a.n(n),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t};i.a.component("task-table-actions",a(125)),e.default={name:"task-project",description:"Task Project Component",props:{category:{type:String,default:""}},data:function(){return{apiUrl:"/tasks/api/projects",columns:["name","created_at","action"],showModal:!1,style:{width:"500px"}}},beforeMount:function(){var t=this;this.options={columnsClasses:{name:"project-name",created_at:"project-created-at",action:"project-action"},sortIcon:{base:"glyphicon",up:"glyphicon-chevron-up",down:"glyphicon-chevron-down"},texts:{filter:"",limit:""},templates:{created_at:function(e,a){return t.formattedTime(a.created_at)},action:"task-table-actions"},sortable:["name","created_at"],filterable:["name","created_at"],pagination:{chunk:5,nav:"fixed",edge:!0},requestAdapter:function(t){return{sortField:t.orderBy?t.orderBy:"id",sortOrder:t.ascending?"desc":"asc",searchTerm:t.query.trim(),page:t.page,limit:t.limit}},responseAdapter:function(e){var a=e.data;return{data:a.data.projects.map(function(e){return e.edit_modal=!0,e.delete_url=t.basePath()+"/tasks/api/project/delete/"+e.id,e.componentTitle="TaskProjects",e}),count:a.data.total}}}},computed:o({},Object(s.b)(["formattedTime"])),methods:{onClose:function(){this.$store.dispatch("unsetValidationError"),this.showModal=!1}},components:{"data-table":a(14),"task-modal":a(244)}}},2810:function(t,e,a){var s=a(2811);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("6f875706",s,!0,{})},2811:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".block a{margin:2px!important}",""])},2812:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(3);a.n(s);e.default={name:"data-table-actions",description:"Contains edit, delete and view buttons as group which can be used as a component as whole. It is built basically for displaying edit, delete and view button in a datable.",props:{data:{type:Object,required:!0}},data:function(){return{showModal:!1,showEditModal:!1,alert:"",style:{width:"500px"},styleObj:{width:"700px"}}},created:function(){this.alert=this.data.alertComponentName?this.data.alertComponentName:"dataTableModal"},methods:{onClose:function(){this.showModal=!1,this.showEditModal=!1,this.$store.dispatch("unsetValidationError")}},components:{"delete-modal":a(2813),"task-modal":a(244),"task-list-modal":a(245)}}},2813:function(t,e,a){var s=a(0)(a(2816),a(2817),!1,function(t){a(2814)},null,null);t.exports=s.exports},2814:function(t,e,a){var s=a(2815);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("0950d879",s,!0,{})},2815:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".has-feedback .form-control{padding-right:0!important}#H5{margin-left:16px}.fulfilling-bouncing-circle-spinner{margin:auto!important}.margin{margin-right:16px!important;margin-left:0!important}.spin{left:0!important;right:43%!important}",""])},2816:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(6);e.default={name:"task-delete-modal",description:"Delete Modal component for task plugin",props:{showModal:{type:Boolean,default:!1},deleteUrl:{type:String},onClose:{type:Function},alertComponentName:{type:String,default:"dataTableModal"},redirectUrl:{type:String,default:""},componentTitle:{type:String,default:""}},computed:{alertMessage:function(){switch(this.componentTitle){case"TaskList":return this.lang("task-plugin-delete-confirmation-tasklists");case"TaskProjects":return this.lang("task-plugin-delete-confirmation-projects");case"TaskTemplate":return this.lang("task-plugin-template-delete-alert")}}},data:function(){return{isDisabled:!1,containerStyle:{width:"500px"},loading:!1,size:60,lang_locale:""}},created:function(){this.lang_locale=localStorage.getItem("LANGUAGE")},methods:{onSubmit:function(){var t=this;this.loading=!0,this.isDisabled=!0,axios.delete(this.deleteUrl).then(function(e){Object(s.b)(e,t.alertComponentName),t.afterRespond()}).catch(function(e){Object(s.a)(e,t.alertComponentName),t.afterRespond()})},afterRespond:function(){window.eventHub.$emit(this.componentTitle+"refreshData"),window.eventHub.$emit(this.componentTitle+"uncheckCheckbox"),this.redirectUrl&&this.redirect(this.redirectUrl),"timeline"==this.alertComponentName&&window.eventHub.$emit("actionDone"),this.onClose(),this.loading=!1,this.isDisabled=!0}},components:{modal:a(10),alert:a(5),loader:a(8)}}},2817:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showModal?a("modal",{attrs:{showModal:t.showModal,onClose:t.onClose,containerStyle:t.containerStyle}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.lang("delete")))])]),t._v(" "),t.loading?t._e():a("div",{attrs:{slot:"fields"},slot:"fields"},[a("span",[t._v("\n                "+t._s(t.alertMessage)+"\n            ")])]),t._v(" "),t.loading?a("div",{staticClass:"row",attrs:{slot:"fields"},slot:"fields"},[a("loader",{class:{spin:"ar"==t.lang_locale},attrs:{"animation-duration":4e3,color:"#1d78ff",size:t.size}})],1):t._e(),t._v(" "),a("div",{attrs:{slot:"controls"},slot:"controls"},[a("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.isDisabled},on:{click:t.onSubmit}},[a("i",{staticClass:"fas fa-trash",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.lang("delete")))])])]):t._e()],1)},staticRenderFns:[]}},2818:function(t,e,a){var s=a(2819);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("ece6cffc",s,!0,{})},2819:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,"",""])},2820:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(6),n=a(3),i=a.n(n);e.default={name:"task-modal",description:"Task Modal component",props:{title:{type:String,default:""},showModal:{type:Boolean,default:!1},onClose:{type:Function},alertComponentName:{type:String,default:"dataTableModal"},componentTitle:{type:String,default:""},containerStyle:{type:Object,default:function(){}},data:{type:Object,default:function(){}}},data:function(){return{loading:!1,name:"",project_id:""}},beforeMount:function(){this.updateSubject()},methods:{updateSubject:function(){"edit_project"===this.title&&(this.name=this.data.name,this.project_id=this.data.id)},onChange:function(t,e){this[e]=t},onSubmit:function(){var t=this;this.loading=!0;var e={};e.name=this.name,"edit_project"===this.title?i.a.put("/tasks/api/project/edit/"+this.project_id,e).then(function(e){Object(s.b)(e,t.alertComponentName),t.afterRespond()}).catch(function(e){Object(s.a)(e,t.alertComponentName),412===e.response.status?t.loading=!1:t.afterRespond()}):i.a.post("/tasks/api/project/create",e).then(function(e){Object(s.b)(e,t.alertComponentName),t.afterRespond()}).catch(function(e){Object(s.a)(e,t.alertComponentName),412===e.response.status?t.loading=!1:t.afterRespond()})},afterRespond:function(){window.eventHub.$emit(this.componentTitle+"refreshData"),this.onClose(),this.loading=!1}},components:{modal:a(10),loader:a(8),"text-field":a(12)}}},2821:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showModal?a("modal",{attrs:{showModal:t.showModal,onClose:t.onClose,containerStyle:t.containerStyle}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.lang(t.title)))])]),t._v(" "),t.loading?t._e():a("div",{staticClass:"row",attrs:{slot:"fields"},slot:"fields"},[a("text-field",{attrs:{label:t.lang("project_name"),id:"project_name",onChange:t.onChange,value:t.name,type:"text",name:"name",required:!0,classname:"col-sm-12"}})],1),t._v(" "),t.loading?a("div",{staticClass:"row",attrs:{slot:"fields"},slot:"fields"},[a("loader",{attrs:{"animation-duration":4e3,color:"#1d78ff",size:60}})],1):t._e(),t._v(" "),a("div",{attrs:{slot:"controls"},slot:"controls"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:!t.name},on:{click:t.onSubmit}},[a("i",{staticClass:"fas fa-check"}),t._v(" "+t._s(t.lang("proceed"))+"\n\t\t\t")])])]):t._e()},staticRenderFns:[]}},2822:function(t,e,a){var s=a(2823);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("4550bcf1",s,!0,{})},2823:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,"",""])},2824:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(6),n=a(3),i=a.n(n);e.default={name:"task-modal",description:"Task Modal component",props:{title:{type:String,default:""},showModal:{type:Boolean,default:!1},onClose:{type:Function},alertComponentName:{type:String,default:"dataTableModal"},componentTitle:{type:String,default:""},containerStyle:{type:Object,default:function(){}},data:{type:Object,default:function(){}}},data:function(){return{loading:!1,name:"",project:"",task_id:""}},beforeMount:function(){this.updateSubject()},methods:{updateSubject:function(){"tasklist_edit"===this.title&&(this.name=this.data.name,this.project=this.data.project,this.task_id=this.data.id)},onChange:function(t,e){this[e]=t},onSubmit:function(){var t=this;this.loading=!0;var e={};e.name=this.name,e.project_id=this.project.id,"tasklist_edit"===this.title?i.a.put("/tasks/api/category/edit/"+this.task_id,e).then(function(e){Object(s.b)(e,t.alertComponentName),t.afterRespond()}).catch(function(e){Object(s.a)(e,t.alertComponentName),412===e.response.status?t.loading=!1:t.afterRespond()}):i.a.post("/tasks/api/category/create",e).then(function(e){Object(s.b)(e,t.alertComponentName),t.afterRespond()}).catch(function(e){Object(s.a)(e,t.alertComponentName),412===e.response.status?t.loading=!1:t.afterRespond()})},afterRespond:function(){window.eventHub.$emit(this.componentTitle+"refreshData"),this.onClose(),this.loading=!1}},components:{modal:a(10),loader:a(8),"text-field":a(12),"dynamic-select":a(13)}}},2825:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showModal?a("modal",{attrs:{showModal:t.showModal,onClose:t.onClose,containerStyle:t.containerStyle}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.lang(t.title)))])]),t._v(" "),t.loading?t._e():a("div",{staticClass:"row",attrs:{slot:"fields"},slot:"fields"},[a("text-field",{attrs:{label:t.lang("name"),id:"project_name",onChange:t.onChange,value:t.name,type:"text",name:"name",required:!0,classname:"col-sm-6"}}),t._v(" "),a("dynamic-select",{attrs:{id:"project",name:"project",multiple:!1,value:t.project,label:t.lang("project"),onChange:t.onChange,strlength:"35",apiEndpoint:"tasks/api/project/view",required:!0,classname:"col-sm-6"}})],1),t._v(" "),t.loading?a("div",{staticClass:"row",attrs:{slot:"fields"},slot:"fields"},[a("loader",{attrs:{"animation-duration":4e3,color:"#1d78ff",size:60}})],1):t._e(),t._v(" "),a("div",{attrs:{slot:"controls"},slot:"controls"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:!t.name||!t.project},on:{click:t.onSubmit}},[a("i",{staticClass:"fas fa-check"}),t._v(" "+t._s(t.lang("proceed"))+"\n\t\t\t")])])]):t._e()},staticRenderFns:[]}},2826:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block"},[t.data.edit_modal?a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("edit"),expression:"trans('edit')"}],staticClass:"btn btn-primary btn-sm",attrs:{href:"javascript:;"},on:{click:function(e){t.showEditModal=!0}}},[a("i",{staticClass:"fas fa-edit"})]):t._e(),t._v(" "),t.data.edit_url?a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("edit"),expression:"trans('edit')"}],staticClass:"btn btn-primary btn-sm",attrs:{id:"edit-button",href:t.data.edit_url,target:t.data.tableName?"_blank":""}},[t._m(0)]):t._e(),t._v(" "),t.data.delete_url?a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.trans("delete"),expression:"trans('delete')"}],staticClass:"btn btn-danger btn-sm",attrs:{href:"javascript:;"},on:{click:function(e){t.showModal=!0}}},[a("i",{staticClass:"fas fa-trash"})]):t._e(),t._v(" "),a("transition",{attrs:{name:"modal"}},[t.showModal?a("delete-modal",{attrs:{onClose:t.onClose,showModal:t.showModal,deleteUrl:t.data.delete_url,alertComponentName:t.alert,componentTitle:t.data.componentTitle}}):t._e()],1),t._v(" "),a("transition",{attrs:{name:"modal"}},["TaskList"===t.data.componentTitle?[t.showEditModal?a("task-list-modal",{attrs:{title:"tasklist_edit",onClose:t.onClose,showModal:t.showEditModal,data:t.data,componentTitle:"TaskList"}}):t._e()]:t._e(),t._v(" "),"TaskProjects"===t.data.componentTitle?[t.showEditModal?a("task-modal",{attrs:{title:"edit_project",onClose:t.onClose,showModal:t.showEditModal,data:t.data,containerStyle:t.style,componentTitle:"TaskProjects"}}):t._e()]:t._e()],2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"fas fa-edit"})])}]}},2827:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card-header border-0 p-0"},[a("button",{staticClass:"btn btn-default float-right",attrs:{type:"button"},on:{click:function(e){t.showModal=!0}}},[a("i",{staticClass:"fas fa-plus"}),t._v(" "+t._s(t.lang("add_project"))+"\n\t\t")])]),t._v(" "),a("div",{staticClass:"card-body p-0",attrs:{id:"task-projects"}},[a("data-table",{attrs:{url:t.apiUrl,dataColumns:t.columns,option:t.options,componentTitle:"TaskProjects",scroll_to:"task-projects"}})],1),t._v(" "),a("transition",{attrs:{name:"modal"}},[t.showModal?a("task-modal",{attrs:{onClose:t.onClose,showModal:t.showModal,title:"add_project",containerStyle:t.style,componentTitle:"TaskProjects"}}):t._e()],1)],1)},staticRenderFns:[]}},2828:function(t,e,a){var s=a(0)(a(2831),a(2832),!1,function(t){a(2829)},null,null);t.exports=s.exports},2829:function(t,e,a){var s=a(2830);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("f8471504",s,!0,{})},2830:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".box-custom{border-top:0 solid!important}.tasklist-name{width:25%!important;word-break:break-all}.tasklist-created-at{width:30%!important;word-break:break-all}.tasklist-action{width:25%!important;word-break:break-all}",""])},2831:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(7),n=a(15),i=a.n(n),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t};i.a.component("task-table-actions",a(125)),e.default={name:"task-list",description:"Task List Component",props:{category:{type:String,default:""}},data:function(){return{apiUrl:"/tasks/api/categories",columns:["name","project","created_at","action"],showModal:!1}},beforeMount:function(){var t=this;this.options={columnsClasses:{name:"tasklist-name",project:"tasklist-created-at",created_at:"tasklist-created-at",action:"tasklist-action"},sortIcon:{base:"glyphicon",up:"glyphicon-chevron-up",down:"glyphicon-chevron-down"},texts:{filter:"",limit:""},templates:{created_at:function(e,a){return t.formattedTime(a.created_at)},project:function(t,e){return e.project.name},action:"task-table-actions"},sortable:["name","created_at"],filterable:["name"],pagination:{chunk:5,nav:"fixed",edge:!0},requestAdapter:function(t){return{sortField:t.orderBy?t.orderBy:"id",sortOrder:t.ascending?"desc":"asc",searchTerm:t.query.trim(),page:t.page,limit:t.limit}},responseAdapter:function(e){var a=e.data;return{data:a.data.tasklists.map(function(e){return e.edit_modal=!0,e.delete_url=t.basePath()+"/tasks/api/category/delete/"+e.id,e.componentTitle="TaskList",e}),count:a.data.total}}}},computed:o({},Object(s.b)(["formattedTime"])),methods:{onClose:function(){this.$store.dispatch("unsetValidationError"),this.showModal=!1}},components:{"data-table":a(14),"task-list-modal":a(245)}}},2832:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card-header border-0 p-0"},[a("button",{staticClass:"btn btn-default float-right",attrs:{type:"button"},on:{click:function(e){t.showModal=!0}}},[a("i",{staticClass:"fas fa-plus"}),t._v(" "+t._s(t.lang("add_tasklist"))+"\n\t\t")])]),t._v(" "),a("div",{staticClass:"card-body p-0",attrs:{id:"task-list"}},[a("data-table",{attrs:{url:t.apiUrl,dataColumns:t.columns,option:t.options,componentTitle:"TaskList",scroll_to:"task-list"}})],1),t._v(" "),a("transition",{attrs:{name:"modal"}},[t.showModal?a("task-list-modal",{attrs:{onClose:t.onClose,showModal:t.showModal,title:"tasklist_create",componentTitle:"TaskList"}}):t._e()],1)],1)},staticRenderFns:[]}},2833:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("alert",{attrs:{componentName:"dataTableModal"}}),t._v(" "),a("div",{staticClass:"card card-light card-tabs"},[a("div",{staticClass:"card-header p-0 pt-1"},[a("ul",{staticClass:"nav nav-tabs",attrs:{id:"custom-tabs-one-tab",role:"tablist"}},t._l(t.tabs,function(e){return a("li",{key:e.id,staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:t.category===e.id},attrs:{id:"settings_tab","data-toggle":"pill",role:"tab"},on:{click:function(a){t.associates(e.id)}}},[t._v("\n\t\t\t\t\t\t"+t._s(t.lang(e.title))+"\n\t\t\t\t\t")])])}))]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane active",attrs:{role:"tabpanel"}},[a(t.currentComponent,{tag:"component",attrs:{category:t.category}})],1)])])])],1)},staticRenderFns:[]}},2834:function(t,e,a){var s=a(0)(a(2835),a(2836),!1,null,null,null);t.exports=s.exports},2835:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(12),n=a.n(s),i=a(9),o=a.n(i),r=a(5),l=a.n(r),c=a(3),d=a.n(c),u=a(6),p=a(4);e.default={components:{Alert:l.a,TextField:n.a,Loader:o.a},data:function(){return{project_name:"",required:"required",projectId:"",loading:!1}},beforeMount:function(){this.setUp()},methods:{setUp:function(){var t=this;this.projectId=Object(p.o)(window.location.pathname);var e="tasks/api/projects?projectIds[]="+this.projectId;d.a.get(e).then(function(e){return t.project_name=e.data.data.projects[0].name})},onChange:function(t,e){this[e]=t},setAlert:function(t){Object(u.a)({response:{status:400,data:{message:t}}},"projectEdit")},projectSubmit:function(){var t=this;if(this.project_name){var e={name:this.project_name};this.loading=!0,d.a.put("tasks/api/project/edit/"+this.projectId,e).then(function(e){t.loading=!1,Object(u.b)(e,"projectEdit"),setTimeout(function(){return window.location=t.basePath()+"/tasks/settings"})}).catch(function(e){t.loading=!1,Object(u.a)(e,"projectEdit")})}else this.setAlert(this.lang("project_name_empty"))}}}},2836:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Alert",{attrs:{componentName:"projectEdit"}}),t._v(" "),a("div",{staticClass:"card card-light"},[t.loading?a("Loader",{attrs:{"animation-duration":4e3,color:"#1d78ff",size:60}}):t._e(),t._v(" "),a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.lang("project_edit")))])]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("TextField",{attrs:{label:t.lang("project_name"),id:"project_name",onChange:t.onChange,value:t.project_name,type:"text",name:"project_name",required:t.required,classname:"col-sm-12"}})],1)]),t._v(" "),a("div",{staticClass:"card-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.projectSubmit(e)}}},[t._v("\n                "+t._s(t.lang("save"))+"\n            ")])])],1)],1)},staticRenderFns:[]}},2837:function(t,e,a){var s=a(0)(a(2838),a(2839),!1,null,null,null);t.exports=s.exports},2838:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=a(12),i=a.n(n),o=a(5),r=a.n(o),l=a(3),c=a.n(l),d=a(13),u=a.n(d),p=a(6),m=a(4),f=a(9),v=a.n(f),_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}e.default={components:{Alert:r.a,TextField:i.a,DynamicSelect:u.a,Loader:v.a},data:function(){return{tasklist_name:"",required:"required",tasklistId:"",project:"",projectId:"",loading:!1}},beforeMount:function(){this.setUp()},methods:(s={setUp:function(){var t=this;this.tasklistId=Object(m.o)(window.location.pathname);var e="tasks/tasklists?tasklistIds[]="+this.tasklistId;c.a.get(e).then(function(e){t.tasklist_name=e.data.data.tasklists[0].name,t.project=e.data.data.tasklists[0].project,t.projectId=t.project.id})},onChange:function(t,e){this[e]=t},setAlert:function(t){Object(p.a)({response:{status:400,data:{message:t}}},"tasklistEdit")}},h(s,"onChange",function(t,e){"object"==(void 0===t?"undefined":_(t))&&(this.projectId=t.id.toString()),this[e]=t}),h(s,"tasklistSubmit",function(){var t=this;if(this.tasklist_name)if(this.projectId){var e={name:this.tasklist_name,project_id:this.projectId};this.loading=!0,c.a.put("/tasks/tasklist/edit/"+this.tasklistId,e).then(function(e){t.loading=!1,Object(p.b)(e,"tasklistEdit"),setTimeout(function(){return window.location=t.basePath()+"/tasks/settings"},1500)}).catch(function(e){t.loading=!1,Object(p.a)(e,"tasklistEdit")})}else this.setAlert(this.lang("project_name_for_tasklist"));else this.setAlert(this.lang("tasklist_name_empty"))}),s)}},2839:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Alert",{attrs:{componentName:"tasklistEdit"}}),t._v(" "),a("div",{staticClass:"card card-light"},[a("div",{staticClass:"card-header"},[a("h3",{staticClass:"card-title"},[t._v(t._s(t.lang("tasklist_edit")))])]),t._v(" "),a("div",{staticClass:"card-body"},[t.loading?a("Loader",{attrs:{"animation-duration":4e3,color:"#1d78ff",size:60}}):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("TextField",{attrs:{label:t.lang("tasklist_name"),id:"tasklist_name",onChange:t.onChange,value:t.tasklist_name,type:"text",name:"tasklist_name",required:t.required,classname:"col-sm-6"}}),t._v(" "),a("DynamicSelect",{attrs:{id:"project",name:"project",multiple:!1,label:t.lang("project"),onChange:t.onChange,strlength:"35",apiEndpoint:"tasks/api/project/view",required:t.required,value:t.project,classname:"col-sm-6"}})],1)],1),t._v(" "),a("div",{staticClass:"card-footer"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.tasklistSubmit(e)}}},[t._v("\n                "+t._s(t.lang("save"))+"\n            ")])])])],1)},staticRenderFns:[]}},2840:function(t,e,a){var s=a(0)(a(2843),a(2844),!1,function(t){a(2841)},null,null);t.exports=s.exports},2841:function(t,e,a){var s=a(2842);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("db547cbc",s,!0,{})},2842:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".task-template-name{width:15%!important;word-break:break-all}.task-template-description{width:25%!important;word-break:break-all}.task-template-tasks{width:30%!important;word-break:break-all}.task-template-action,.task-template-category{width:15%!important;word-break:break-all}",""])},2843:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(7),n=a(15),i=a.n(n),o=a(17),r=a.n(o),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t};i.a.component("task-table-actions",a(125)),e.default={name:"TaskTemplate",components:{"data-table":a(14),"task-modal":a(240),"faveo-box":r.a,alert:a(5)},computed:l({},Object(s.b)(["formattedTime"]),{createPage:function(){return this.basePath()+"/tasks/template/create"}}),methods:{onClose:function(){this.$store.dispatch("unsetValidationError"),this.showModal=!1},gotoCreateTemplatePage:function(){this.redirect("/tasks/template/create")}},props:{category:{type:String,default:""}},data:function(){return{apiUrl:"/tasks/api/template/index",columns:["name","description","category","tasks","action"],showModal:!1,style:{width:"500px"}}},beforeMount:function(){var t=this;this.options={columnsClasses:{name:"task-template-name",description:"task-template-description",category:"task-template-category",tasks:"task-template-tasks",action:"task-template-action"},sortIcon:{base:"glyphicon",up:"glyphicon-chevron-up",down:"glyphicon-chevron-down"},texts:{filter:"",limit:""},templates:{category:function(t,e){var a=e.category;return a?a.name:"--"},tasks:"table-list-elements",action:"task-table-actions"},sortable:["name"],filterable:["name"],pagination:{chunk:5,nav:"fixed",edge:!0},requestAdapter:function(t){return{sortField:t.orderBy?t.orderBy:"id",sortOrder:t.ascending?"desc":"asc",searchTerm:t.query.trim(),page:t.page,limit:t.limit}},responseAdapter:function(e){var a=e.data;return{data:a.data.data.map(function(e){return e.edit_url=t.basePath()+"/tasks/template/edit/"+e.id,e.delete_url=t.basePath()+"/tasks/api/template/delete/"+e.id,e.alertComponentName="task-template-settings",e.componentTitle="TaskTemplate",e.listElementObj={key:"template_tasks"},e}),count:a.data.total}}}}}},2844:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("alert",{attrs:{componentName:"task-template-settings"}}),t._v(" "),a("faveo-box",{attrs:{title:t.lang("task-plugin-task-templates")}},[a("div",{staticClass:"card-tools",attrs:{slot:"headerMenu"},slot:"headerMenu"},[a("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("task-plugin-add-task-template"),expression:"lang('task-plugin-add-task-template')"}],staticClass:"btn btn-tool",attrs:{href:t.createPage}},[a("i",{staticClass:"fas fa-plus"})])]),t._v(" "),a("div",[a("data-table",{attrs:{url:t.apiUrl,dataColumns:t.columns,option:t.options,componentTitle:"TaskTemplate",scroll_to:"task-templates"}})],1)])],1)},staticRenderFns:[]}},2845:function(t,e,a){var s=a(0)(a(2848),a(2849),!1,function(t){a(2846)},null,null);t.exports=s.exports},2846:function(t,e,a){var s=a(2847);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(2)("14223ea9",s,!0,{})},2847:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".task-template-center{text-align:center;vertical-align:middle}.task-template-v-center{vertical-align:middle}.actionBtn{font-size:1.5em;cursor:pointer}.disableMinus{cursor:not-allowed!important}.disableMinus:active{pointer-events:none}.row.no-gutter{margin-left:0;margin-right:0}.row.no-gutter [class*=col-]:not(:first-child),.row.no-gutter [class*=col-]:not(:last-child){padding-right:0;padding-left:0}textarea#task_description{resize:vertical!important}.adjustableLineHeight{line-height:1.4}.drag-handle{cursor:move}#drag-handle-parent{font-size:1.3em;margin-left:2px}.temp-name{width:20%}.temp-due{width:27%}.temp-assign{width:15%}.temp-assignee{width:25%}.temp-action{width:13%}.task-template-table thead{background-color:#eee}.vs__clear{top:-2px}.task-assign .faveo-dynamic-select .vs__dropdown-toggle{height:auto!important}",""])},2848:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(34),n=a.n(s),i=a(64),o=a.n(i),r=a(17),l=a.n(r),c=a(3),d=a.n(c),u=a(6),p=a(23),m=a.n(p),f=a(63),v=a.n(f);e.default={name:"TaskTemplateCreateEdit",props:{templateDetails:{type:String,required:!1,default:""}},components:{"text-field":a(12),alert:a(5),loader:a(9),"dynamic-select":a(13),"date-time-field":a(28),"faveo-box":l.a,"v-select":o.a,"form-field":a(30),"tool-tip":m.a,draggable:v.a},filters:{buttonText:function(t){return t?" "+(t=t.toString()):""}},computed:{disableRemoveButton:function(){return 1===this.templateTasks.length?"disableMinus":""}},beforeMount:function(){this.getSelectOptions(),this.fillFieldsIfEdit()},methods:{getSelectOptions:function(){var t,e=(t=n.a.mark(function t(){var e;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("api/dependency/agents?meta=true");case 3:e=t.sent,this.selectOptions=e.data.data.agents,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),this.selectOptions=[];case 10:case"end":return t.stop()}},t,this,[[0,7]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,a){return function s(n,i){try{var o=e[n](i),r=o.value}catch(t){return void a(t)}if(!o.done)return Promise.resolve(r).then(function(t){s("next",t)},function(t){s("throw",t)});t(r)}("next")})});return function(){return e.apply(this,arguments)}}(),addTaskRow:function(){this.templateTasks.push({taskName:"",assignees:[],taskEnd:null,order:this.templateTasks.length+1,taskEndUnit:"day",assignTaskToTicketAssignee:!1})},removeTaskRow:function(t){this.templateTasks.length>1?this.templateTasks.splice(t,1):alert(this.lang("task-plugin-template-at-least-one-task"))},onChange:function(t,e){this[e]=t},fillFieldsIfEdit:function(){if(this.templateDetails){var t=JSON.parse(this.templateDetails);this.id=t.id,this.name=t.name,this.description=t.description,this.category_id=t.category,this.addFilledTaskRows(t.template_tasks)}},addFilledTaskRows:function(t){var e=this;this.hasDataPopulated=!1,this.templateTasks=[],t.forEach(function(t){e.templateTasks.push({taskName:t.name,assignees:t.assignees.map(Number),taskEnd:t.end,order:t.order,taskEndUnit:t.end_unit,assignTaskToTicketAssignee:!!t.assign_task_to_ticket_agent})}),setTimeout(function(){e.hasDataPopulated=!0},1e3)},submit:function(){var t=this,e=void 0,a=void 0;this.loading=!0;var s={name:this.name,description:this.description,category_id:this.category_id?this.category_id.id:null,task_templates:this.templateTasks};this.id?(e="/tasks/api/template/update/"+this.id,a="PUT"):(e="/tasks/api/template/store",a="POST"),d.a.request({method:a,url:e,data:s}).then(function(e){Object(u.b)(e,"task-template-create-edit"),t.$store.dispatch("unsetValidationError"),setTimeout(function(){t.redirect("/tasks/template/settings")},1e3)}).catch(function(t){Object(u.a)(t,"task-template-create-edit")}).finally(function(){t.loading=!1})},updateOrder:function(){this.templateTasks.map(function(t,e){t.order=e+1})}},data:function(){return{hasDataPopulated:!0,loading:!1,name:"",description:"",timeFilterOptions:[{id:"minute",value:"unit_minute",label:"Minute(s)"},{id:"hour",value:"unit_hour",label:"Hour(s)"},{id:"day",value:"unit_day",label:"Day(s)"},{id:"month",value:"unit_month",label:"Month(s)"}],filterObjects:{},templateTasks:[{taskName:"",assignees:[],taskEnd:null,order:1,taskEndUnit:"day",assignTaskToTicketAssignee:!1}],selectOptions:[],category_id:null,id:"",tasksLabelStyle:{display:"none"}}}}},2849:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading?a("loader",{attrs:{"animation-duration":"4000"}}):t._e(),t._v(" "),a("alert",{attrs:{componentName:"task-template-create-edit"}}),t._v(" "),a("faveo-box",{attrs:{title:t.templateDetails?t.lang("task-plugin-task-template-edit"):t.lang("task-plugin-task-template-create")}},[a("div",[a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.lang("task-plugin-task-template-name"),onChange:t.onChange,value:t.name,type:"text",name:"name",classname:"col-sm-6",required:!0,id:"task_name"}}),t._v(" "),a("dynamic-select",{attrs:{name:"category_id",classname:"col-sm-6",multiple:!1,apiEndpoint:"tasks/api/category/view",label:t.lang("task-plugin-category"),value:t.category_id,onChange:t.onChange,searchable:!0,required:!1}})],1),t._v(" "),a("div",{staticClass:"row"},[a("text-field",{attrs:{label:t.lang("task-plugin-task-template-description"),onChange:t.onChange,value:t.description,type:"textarea",name:"description",classname:"col-sm-12",required:!0,id:"task_description"}})],1),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 task-template-table"},[t.hasDataPopulated?a("table",{staticClass:"table table-bordered"},[a("thead",{staticClass:"thead-default"},[a("tr",[a("th",{staticClass:"temp-name"},[t._v("\n                               "+t._s(t.lang("task-plugin-task-template-task-name"))+"\n                               "),a("span",{staticClass:"text-red"},[t._v("*")])]),t._v(" "),a("th",{staticClass:"temp-assign"},[t._v("\n                             "+t._s(t.lang("task-plugin-task-template-assign-to-ticket-assignee"))+"\n                             "),a("tool-tip",{attrs:{message:t.lang("task-plugin-task-template-assign-to-ticket-assignee-tooltip"),size:"small"}})],1),t._v(" "),a("th",{staticClass:"temp-assignee"},[t._v("\n                             "+t._s(t.lang("task-plugin-task-template-assignees"))+"\n                             "),a("tool-tip",{attrs:{message:t.lang("task-plugin-template-assignees-tooltip"),size:"small"}})],1),t._v(" "),a("th",{staticClass:"temp-due"},[t._v("\n                               "+t._s(t.lang("task-plugin-task-template-due-in"))+"\n                               "),a("span",{staticClass:"text-red"},[t._v("*")])]),t._v(" "),a("th",{staticClass:"temp-action"},[t._v(t._s(t.lang("task-plugin-template-action-label")))])])]),t._v(" "),a("draggable",{attrs:{list:t.templateTasks,options:{animation:200,handle:".drag-handle"},element:"tbody"},on:{change:t.updateOrder}},t._l(t.templateTasks,function(e,s){return a("tr",{key:s},[a("td",[a("form-field",{attrs:{name:"task_templates."+s+".taskName",label:"",labelStyle:t.tasksLabelStyle}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.taskName,expression:"task.taskName"}],staticClass:"form-control adjustableLineHeight",attrs:{type:"text",name:"task_templates."+s+".taskName"},domProps:{value:e.taskName},on:{input:function(a){a.target.composing||t.$set(e,"taskName",a.target.value)}}})])],1),t._v(" "),a("td",{staticClass:"task-template-center"},[a("form-field",{attrs:{name:"task_templates."+s+".assignTaskToTicketAssignee",label:"",labelStyle:t.tasksLabelStyle}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.assignTaskToTicketAssignee,expression:"task.assignTaskToTicketAssignee"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.assignTaskToTicketAssignee)?t._i(e.assignTaskToTicketAssignee,null)>-1:e.assignTaskToTicketAssignee},on:{change:function(a){var s=e.assignTaskToTicketAssignee,n=a.target,i=!!n.checked;if(Array.isArray(s)){var o=t._i(s,null);n.checked?o<0&&t.$set(e,"assignTaskToTicketAssignee",s.concat([null])):o>-1&&t.$set(e,"assignTaskToTicketAssignee",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(e,"assignTaskToTicketAssignee",i)}}})])],1),t._v(" "),a("td",{staticClass:"task-assign"},[a("form-field",{attrs:{name:"task_templates."+s+".assigneed",label:"",labelStyle:t.tasksLabelStyle}},[a("v-select",{staticClass:"faveo-dynamic-select",attrs:{options:t.selectOptions,multiple:!0,label:"full_name",reduce:function(t){return t.id}},model:{value:e.assignees,callback:function(a){t.$set(e,"assignees",a)},expression:"task.assignees"}})],1)],1),t._v(" "),a("td",[a("div",{staticClass:"row no-gutter"},[a("div",{staticClass:"col-sm-4"},[a("form-field",{attrs:{name:"task_templates."+s+".taskEnd",label:"",labelStyle:t.tasksLabelStyle}},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.taskEnd,expression:"task.taskEnd",modifiers:{number:!0}}],staticClass:"form-control adjustableLineHeight",attrs:{type:"text"},domProps:{value:e.taskEnd},on:{input:function(a){a.target.composing||t.$set(e,"taskEnd",t._n(a.target.value))},blur:function(e){t.$forceUpdate()}}})])],1),t._v(" "),a("div",{staticClass:"col-sm-8"},[a("form-field",{attrs:{name:"task_templates."+s+".taskEndUnit",label:"",labelStyle:t.tasksLabelStyle}},[a("v-select",{staticClass:"faveo-dynamic-select",attrs:{options:t.timeFilterOptions,multiple:!1,clearable:!1,reduce:function(t){return t.id}},model:{value:e.taskEndUnit,callback:function(a){t.$set(e,"taskEndUnit",a)},expression:"task.taskEndUnit"}})],1)],1)])]),t._v(" "),a("td",[a("div",[a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("add"),expression:"lang('add')"}],staticClass:"btn btn-sm btn-success",on:{click:t.addTaskRow}},[a("i",{staticClass:"fas fa-plus"})]),t._v(" "),a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("remove"),expression:"lang('remove')"}],staticClass:"btn btn-sm btn-danger",class:t.disableRemoveButton,on:{click:function(e){t.removeTaskRow(s)}}},[a("i",{staticClass:"fas fa-minus"})]),t._v(" "),a("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lang("move"),expression:"lang('move')"}],staticClass:"btn btn-sm btn-primary drag-handle"},[a("i",{staticClass:"fas fa-bars"})])])])])}))],1):a("loader",{attrs:{"animation-duration":"4000",size:"60"}})],1)])]),t._v(" "),a("div",[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return e.preventDefault(),t.submit(e)}}},[a("i",{staticClass:"fas fa-save"}),t._v("\n          "+t._s(t._f("buttonText")(t.lang("save")))+"\n        ")])])])],1)},staticRenderFns:[]}}},[2732]);