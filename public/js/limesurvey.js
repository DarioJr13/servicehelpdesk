webpackJsonp([24],{3925:function(t,e,s){t.exports=s(3926)},3926:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(11);s(24);new Vue({el:"#lime-survey-settings",store:i.a,components:{"lime-survey-settings":s(3927)}})},3927:function(t,e,s){var i=s(0)(s(3928),s(3929),!1,null,null,null);t.exports=i.exports},3928:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(3),n=s.n(i),a=s(6),r=s(11),o=s(16),l=s(4);e.default={name:"lime-survey-settings",data:function(){return{loading:!0,survey_link:"",haspopulated:!1}},beforeMount:function(){this.getLimeSurveyLink()},methods:{onChange:function(t,e){this[e]=t},getLimeSurveyLink:function(){var t=this;this.loading=!0,n.a.get("/lime-survey/api/get-survey-link").then(function(e){t.loading=!1,t.haspopulated=!0,t.survey_link=e.data.data.link||""}).catch(function(e){t.loading=!1,t.haspopulated=!1,Object(a.a)(e,"lime-survey-settings")})},isValid:function(){var t=function(t){var e={survey_link:[t.survey_link,"isRequired"]},s=new o.Validator(l.s).validate(e),i=s.errors,n=s.isValid;return r.a.dispatch("setValidationError",i),{errors:i,isValid:n}}(this.$data),e=(t.errors,t.isValid);return e},onSubmit:function(){var t=this;if(this.isValid()){this.loading=!0;var e={};e.survey_link=this.survey_link,n.a.post("/lime-survey/api/post-survey-link",e).then(function(e){Object(a.b)(e,"lime-survey-settings"),t.getLimeSurveyLink()}).catch(function(e){t.loading=!1,t.haspopulated=!0,Object(a.a)(e,"lime-survey-settings")})}}},components:{"text-field":s(12),"faveo-box":s(17),alert:s(5),"custom-loader":s(9)}}},3929:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("alert",{attrs:{componentName:"lime-survey-settings"}}),t._v(" "),t.loading?s("div",[s("custom-loader",{attrs:{loadingSpeed:4e3}})],1):t._e(),t._v(" "),t.haspopulated?s("faveo-box",{attrs:{title:t.trans("limesurvey_settings")}},[s("div",{staticClass:"row"},[s("text-field",{staticClass:"col-sm-12",attrs:{label:t.trans("survey_link"),type:"text",value:t.survey_link,name:"survey_link",required:!0,onChange:t.onChange}})],1),t._v(" "),s("div",{staticClass:"card-footer",attrs:{slot:"actions"},slot:"actions"},[s("button",{staticClass:"btn btn-primary",attrs:{slot:"actions",type:"button",disabled:t.loading},on:{click:function(e){t.onSubmit()}},slot:"actions"},[s("i",{staticClass:"fa fa-save"}),t._v(" "+t._s(t.trans("save"))+"\n\t\t\t")])])]):t._e()],1)},staticRenderFns:[]}}},[3925]);